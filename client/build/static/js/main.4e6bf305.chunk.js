(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{227:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"fonts",(function(){return je})),a.d(n,"liquidCrystalNormal",(function(){return ve})),a.d(n,"liquidCrystalNormalItalic",(function(){return Oe})),a.d(n,"liquidCrystalBold",(function(){return xe})),a.d(n,"liquidCrystalLight",(function(){return ye})),a.d(n,"liquidCrystalLightItalic",(function(){return we})),a.d(n,"liquidCrystalBoldItalic",(function(){return Ce})),a.d(n,"liquidCrystalExBold",(function(){return Se})),a.d(n,"liquidCrystalExBoldItalic",(function(){return ke}));var i={};a.r(i),a.d(i,"ai",(function(){return _t})),a.d(i,"bs",(function(){return Lt})),a.d(i,"bi",(function(){return Rt})),a.d(i,"di",(function(){return Bt})),a.d(i,"fi",(function(){return At})),a.d(i,"fc",(function(){return Ut})),a.d(i,"fa",(function(){return Mt})),a.d(i,"gi",(function(){return zt})),a.d(i,"go",(function(){return Wt})),a.d(i,"gr",(function(){return Gt})),a.d(i,"hi",(function(){return Ht})),a.d(i,"im",(function(){return qt})),a.d(i,"io",(function(){return Jt})),a.d(i,"io5",(function(){return Kt})),a.d(i,"md",(function(){return Vt})),a.d(i,"ri",(function(){return Yt})),a.d(i,"si",(function(){return Xt})),a.d(i,"ti",(function(){return $t})),a.d(i,"vsc",(function(){return Qt})),a.d(i,"wi",(function(){return Zt})),a.d(i,"cg",(function(){return ea}));var r=a(1),o=a.n(r),s=a(16),c=a.n(s),l=a(9),d=a.n(l),u=a(15),h=a(20),p=a(21),f=a(10),m=a(23),g=a(22),b=a(14),j=a(8),v=a(30),O="LOG_IN_USER",x="LOG_OUT_USER",y="REPOPULATE_STATE",w=function(){return{type:x}},C=function(e){return{type:y,payload:Object(j.a)({},e)}},S=a(19),k=a.n(S),N="FETCH_PORTFOLIOS_BEGIN",D="FETCH_PORTFOLIOS_SUCCESS",I="FETCH_PORTFOLIOS_FAILURE",P="SAVE_CURRENT_WORK",F="CLEAR_CURRENT_WORK",E="TOGGLE_UNSAVED_WORK",T=function(e){return{type:P,payload:{curr:e}}};function _(e){return function(t){window.localStorage.setItem("portfolioWork",JSON.stringify(e)),t(T(e))}}function L(){return function(e){window.localStorage.removeItem("portfolioWork"),e({type:F})}}function R(e){return function(t){return t({type:N}),k()({method:"GET",url:"https://resumate.xyz/api/portfolio",withCredentials:!0,params:{id:e}}).then((function(e){return e.data})).then((function(e){var a;void 0!==e.portfolios&&t((a=e.portfolios,{type:D,payload:{portfolios:a}}))})).catch((function(e){return t(function(e){return{type:I,payload:{err:e}}}(e))}))}}var B,A,U=a(271),M=a(272),z=a(149),W=a(268),G=a(277),H=function(){var e=Object(u.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.response?(console.log(t.response.data),401===t.response.status&&"unauthorized user"===t.response.data&&(localStorage.removeItem("portfolioUser"),Qa.dispatch(w()),a.push("/"))):console.log(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=a(7),J=a(273),K=a(297),V=a(274),Y=a(305),X=a(275),$=a(301),Q=a(276),Z=a(29);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function ae(e,t){var a=e.title,n=e.titleId,i=te(e,["title","titleId"]);return r.createElement("svg",ee({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"120 235.9 356 292",style:{enableBackground:"new 120 235.9 356 292"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},i),a?r.createElement("title",{id:n},a):null,B||(B=r.createElement("style",{type:"text/css"},"\n\t.st0{fill:none;}\n")),A||(A=r.createElement("g",null,r.createElement("path",{className:"st0",d:"M449,308.9H149c-1.6,0-3,1.4-3,3v190c0,1.6,1.4,3,3,3h300c1.6,0,3-1.4,3-3v-190 C452,310.3,450.6,308.9,449,308.9z M271.1,385.9l-51.3,19.6l51.3,20.4v20.7l-73.6-32v-17.7l73.6-31.9V385.9z M293.1,460.7h-15.2 l26.6-111H320L293.1,460.7z M400.5,414.6l-73.7,32.1V426l51.4-20.2l-51.4-20v-20.6l73.7,31.9V414.6z"}),r.createElement("path",{className:"st0",d:"M355.5,258.9h-113c-1.6,0-3,1.4-3,3v29h119v-29C358.5,260.3,357.1,258.9,355.5,258.9z"}),r.createElement("path",{d:"M358.5,290.9h-119 M221.5,290.9H149c-11.6,0-21,9.4-21,21v190c0,11.6,9.4,21,21,21h300c11.6,0,21-9.4,21-21v-190 c0-11.6-9.4-21-21-21h-72.5 M452,501.9c0,1.6-1.4,3-3,3H149c-1.6,0-3-1.4-3-3v-190c0-1.6,1.4-3,3-3h300c1.6,0,3,1.4,3,3V501.9z"}),r.createElement("path",{d:"M376.5,290.9v-29c0-11.6-9.4-21-21-21h-113c-11.6,0-21,9.4-21,21v29h18v-29c0-1.6,1.4-3,3-3h113c1.6,0,3,1.4,3,3v29H376.5z "}),r.createElement("polygon",{points:"197.5,414.6 271.1,446.6 271.1,425.9 219.8,405.5 271.1,385.9 271.1,365 197.5,396.9  "}),r.createElement("polygon",{points:"277.9,460.7 293.1,460.7 320,349.7 304.5,349.7  "}),r.createElement("polygon",{points:"326.8,385.8 378.2,405.8 326.8,426 326.8,446.7 400.5,414.6 400.5,397.1 326.8,365.2  "}))))}var ne=r.forwardRef(ae),ie=(a.p,a(2)),re=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).handleLogout=e.handleLogout.bind(Object(f.a)(e)),e.handleUserMenu=e.handleUserMenu.bind(Object(f.a)(e)),e.state={menu_open:!1,user_drawer_open:!1},e.handleLogout=e.handleLogout.bind(Object(f.a)(e)),e.handleReturnDashboard=e.handleReturnDashboard.bind(Object(f.a)(e)),e.handleUserMenu=e.handleUserMenu.bind(Object(f.a)(e)),e.handleReturnHome=e.handleReturnHome.bind(Object(f.a)(e)),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.loggedIn){e.next=7;break}return e.next=3,JSON.parse(window.localStorage.getItem("portfolioUser"));case 3:if(null===(t=e.sent)){e.next=7;break}return e.next=7,this.props.repopulate_state(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("logging out"),this.props.log_out_user(),this.props.clearCurrentWorkFromLocal(),localStorage.removeItem("portfolioUser"),console.log("successfully cleared localStorage"),e.next=7,k()({method:"GET",url:"https://resumate.xyz/api/logout",withCredentials:!0}).then((function(e){t.props.history.push("/")})).catch((function(e){H(e,t.props.history)}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleReturnDashboard",value:function(){this.props.history.push("/dashboard"),this.handleUserMenu()}},{key:"handleReturnHome",value:function(){this.props.history.push("/"),this.handleUserMenu()}},{key:"handleUserMenu",value:function(){this.setState({user_drawer_open:!this.state.user_drawer_open})}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.name,n=e.avatar_url,i=e.error;if(i)return Object(ie.jsxs)("div",{children:["Error! ",i.message]});var r=this.props.classes;return Object(ie.jsxs)("div",{className:r.root,children:[Object(ie.jsx)(W.a,{}),Object(ie.jsx)(U.a,{position:"fixed",className:this.state.user_drawer_open?"".concat(r.appBar," ").concat(r.appBarShift):r.appBar,children:Object(ie.jsxs)(M.a,{className:r.toolbar,children:[Object(ie.jsxs)(J.a,{className:r.homeButton,onClick:this.handleReturnHome,children:[Object(ie.jsx)(ne,{width:"1em",height:"1em"}),Object(ie.jsx)(z.a,{component:"h1",variant:"h6",color:"inherit",fontWeight:"bold",noWrap:!0,className:r.title,children:Object(ie.jsxs)(K.a,{fontWeight:"bold",children:["Resu",Object(ie.jsx)("span",{className:r.logoTextDecor,children:"mate"})]})})]}),Object(ie.jsx)(V.a,{startIcon:Object(ie.jsx)(Y.a,{src:n}),onClick:this.handleUserMenu,className:t&&!this.state.user_drawer_open?r.avatar_button:r.hide,children:a})]})}),Object(ie.jsx)(X.a,{variant:"temporary",anchor:"right",onBackdropClick:this.handleUserMenu,classes:{paper:this.state.user_drawer_open?r.drawerPaper:"".concat(r.drawerPaper," ").concat(r.drawerPaperClose)},open:this.state.user_drawer_open,children:Object(ie.jsxs)("div",{className:r.drawerDiv,children:[Object(ie.jsx)($.a,{xsDown:!0,children:Object(ie.jsx)(Y.a,{src:n,className:r.expandedAvatar})}),Object(ie.jsx)(z.a,{variant:"h4",className:r.title,children:a}),Object(ie.jsx)(Q.a,{}),Object(ie.jsxs)(G.a,{className:r.flexDown,children:[Object(ie.jsx)(V.a,{onClick:this.handleLogout,fullWidth:!0,className:r.logoutButton,children:"LOGOUT"}),Object(ie.jsx)(V.a,{onClick:this.handleReturnDashboard,fullWidth:!0,className:r.dashboardButton,children:"DASHBOARD"})]})]})}),Object(ie.jsx)("div",{className:r.appBarSpacer})]})}}]),a}(r.Component),oe={log_out_user:w,repopulate_state:C,clearCurrentWorkFromLocal:L},se=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,avatar_url:e.login.avatar_url,gravatar_id:e.login.gravatar_id,error:e.login.error}}),oe)(Object(q.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"".concat(e.palette.primary.main,"aa"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginRight:e.spacing(30),width:"calc(100% - ".concat(e.spacing(30),")"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},homeButton:{marginRight:"auto",borderRadius:"5px"},homeButtonHidden:{display:"none"},title:{flexGrow:1},drawerDiv:{display:"block",justifyContent:"center",textAlign:"center",height:"100vh"},drawerPaper:{whiteSpace:"nowrap",width:e.spacing(30),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(b.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(0)},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},hide:{display:"none"},expandedAvatar:{marginTop:e.spacing(5),height:e.spacing(20),width:e.spacing(20),marginLeft:"auto",marginRight:"auto"},maxWidthButton:{width:"100%",borderRadius:"0px"},maxHeight:{height:"100%"},flexDown:{display:"flex",flexDirection:"column"},logoutButton:{color:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},dashboardButton:{color:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},avatar_button:{width:"auto"},logoTextDecor:{color:"#FF0000"}}}))(Object(Z.h)(re))),ce=a(302),le=a(144),de=a.p+"static/media/LiquidCrystal-Normal.f388bf69.woff2",ue=a.p+"static/media/LiquidCrystal-Bold.c84b4328.woff2",he=a.p+"static/media/LiquidCrystal-Light.50eef454.woff2",pe=a.p+"static/media/LiquidCrystal-BoldItalic.a30e37ed.woff2",fe=a.p+"static/media/LiquidCrystal-ExBold.9d97e8f2.woff2",me=a.p+"static/media/LiquidCrystal-ExBoldItalic.de63aaa0.woff2",ge=a.p+"static/media/LiquidCrystal-LightItalic.e3e9bde9.woff2",be=a.p+"static/media/LiquidCrystal-NormalItalic.615622e6.woff2",je=["Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT","LiquidCrystal"],ve={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:400,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-Normal'),\n  url(".concat(de,") format('woff2')\n  ")},Oe={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:400,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-NormalItalic'),\n  url(".concat(be,") format('woff2')\n  ")},xe={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:500,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-Bold'),\n  url(".concat(ue,") format('woff2')\n  ")},ye={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:300,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-Light'),\n  url(".concat(he,") format('woff2')\n  ")},we={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:300,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-LightItalic'),\n  url(".concat(ge,") format('woff2')\n  ")},Ce={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:500,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-BoldItalic'),\n  url(".concat(pe,") format('woff2')\n  ")},Se={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:600,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-ExBold'),\n  url(".concat(fe,") format('woff2')\n  ")},ke={fontFamily:"LiquidCrystal",fontStyle:"normal",fontDisplay:"swap",fontWeight:600,src:"\n  local('LiquidCrystal'),\n  local('LiquidCrystal-ExBoldItalic'),\n  url(".concat(me,") format('woff2')\n  ")},Ne={palette:{type:"light",primary:{main:"#FEF9C7"},secondary:{main:"#FCE181"},contrastPrimary:{main:"#9FEDD7"},contrastSecondary:{main:"#026670"},tertiary:{light:"#687A8F",main:"#9FEDD7",dark:"#e76f51",contrastText:"#fff"},background:{default:"#fff",light:"#faf7e3",dark:"#687A8F"},text:{primary:"#264653",secondary:"#2a9d8f"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto"].join(",")},overrides:{MuiCssBaseline:{"@global":{"@font-face":Object.values(n)}}}},De=(["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto"].join(","),Object.values(n),Object(ce.a)(Object(le.a)(Ne))),Ie=a.p+"static/media/homeWelcome.406b97a7.png",Pe=a.p+"static/media/sunset.01a973ab.png",Fe=a(87),Ee=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.call(this)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.loggedIn){e.next=5;break}return e.next=3,JSON.parse(window.localStorage.getItem("portfolioUser"));case 3:null!==(t=e.sent)&&this.props.repopulate_state(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.classes;return Object(ie.jsxs)("div",{className:a.root,children:[Object(ie.jsx)(W.a,{}),Object(ie.jsxs)(V.a,{className:a.homeButton,href:"/",children:[Object(ie.jsx)(ne,{width:"2em",height:"2em"}),Object(ie.jsx)(z.a,{component:"h1",variant:"h2",color:"inherit",className:"".concat(a.title," ").concat(a.logoFont),children:"RESUMATE"})]}),Object(ie.jsxs)("div",{className:a.welcomeDiv,children:[Object(ie.jsxs)("div",{className:a.autoMargin,children:[Object(ie.jsx)(z.a,{component:"h2",variant:"h2",color:"inherit",gutterBottom:!0,className:"".concat(a.typoHeader," ").concat(a.boldFont),children:"Show, not tell."}),Object(ie.jsx)(z.a,{component:"h6",variant:"subtitle1",color:"inherit",gutterBottom:!0,className:a.whiteSpacePreLine,children:"Sometimes words don't do your accomplishments justice.\nShowcase your best work in a visual, interactive website."}),Object(ie.jsx)(V.a,{href:t?"/dashboard":"https://github.com/login/oauth/authorize?scope=repo&client_id=6d792c38e928408ce009",variant:"outlined",className:a.loginButton,children:"GET STARTED"})]}),Object(ie.jsx)("img",{src:Ie,className:a.welcomeImage})]}),Object(ie.jsxs)("div",{className:"".concat(a.featuresDiv," ").concat(a.centeredDiv," ").concat(a.featureRight),children:[Object(ie.jsx)("img",{className:a.featureImg,src:"https://edut.to/2TeoUBz",alt:"feature"}),Object(ie.jsxs)("div",{className:"".concat(a.flexColumn," ").concat(a.featureDiv),children:[Object(ie.jsx)(z.a,{component:"h4",variant:"h4",color:"inherit",className:a.title,children:"Pre-Built templates"}),Object(ie.jsx)(z.a,{component:"body1",variant:"body1",color:"inherit",className:a.title,children:"Not a designer? No worries, choose from a selection of templates"})]}),Object(ie.jsx)("div",{className:"".concat(a.boxShadow," ").concat(a.boxShadowColor1)})]}),Object(ie.jsxs)("div",{className:"".concat(a.featuresDiv," ").concat(a.centeredDiv," ").concat(a.featureLeft),children:[Object(ie.jsxs)("div",{className:"".concat(a.flexColumn," ").concat(a.featureDiv),children:[Object(ie.jsx)(z.a,{component:"h4",variant:"h4",color:"inherit",className:a.title,children:"Free forever, no watermarks"}),Object(ie.jsx)(z.a,{component:"body1",variant:"body1",color:"inherit",className:a.title,children:"You own your website. No watermarks, no restrictions. Take full control of your website."})]}),Object(ie.jsx)("img",{className:a.featureImg,src:"https://edut.to/2TeoUBz",alt:"feature"}),Object(ie.jsx)("div",{className:"".concat(a.boxShadow," ").concat(a.boxShadowColor2)})]}),Object(ie.jsxs)("div",{className:"".concat(a.featuresDiv," ").concat(a.centeredDiv," ").concat(a.featureRight),children:[Object(ie.jsx)("img",{className:a.featureImg,src:"https://edut.to/2TeoUBz",alt:"feature"}),Object(ie.jsxs)("div",{className:"".concat(a.flexColumn," ").concat(a.featureDiv),children:[Object(ie.jsx)(z.a,{component:"h4",variant:"h4",color:"inherit",className:a.title,children:"Fuss free process"}),Object(ie.jsx)(z.a,{component:"body1",variant:"body1",color:"inherit",className:a.title,children:"Pick your templates, edit your entries. We'll handle the rest \u2014 compilation and hosting all by us."})]}),Object(ie.jsx)("div",{className:"".concat(a.boxShadow," ").concat(a.boxShadowColor3)})]}),Object(ie.jsxs)("div",{className:"".concat(a.flexRow," ").concat(a.messageDiv),children:[Object(ie.jsx)(Fe.RiFileCodeLine,{size:"20em",className:a.riFileCodeLine}),Object(ie.jsxs)("div",{className:a.autoMargin,children:[Object(ie.jsx)(z.a,{component:"h3",variant:"h3",color:"inherit",gutterBottom:!0,className:"".concat(a.typoHeader," ").concat(a.boldFont),children:"Ready to take it a step further?"}),Object(ie.jsx)(z.a,{component:"h6",variant:"subtitle1",color:"inherit",gutterBottom:!0,className:a.whiteSpacePreLine,children:"You've got your website up and running.\n How about giving web development a shot? \n Beginner javascript projects to advanced full stack tutorials, we have it all."}),Object(ie.jsx)(V.a,{href:"/",onClick:function(){return alert("Coming soon in the near future!")},color:"primary",variant:"outlined",children:"Browse tutorials"})]}),Object(ie.jsx)("div",{className:"".concat(a.boxShadow," ").concat(a.boxShadowColor4)})]}),Object(ie.jsx)("div",{className:"".concat(a.centeredDiv," ").concat(a.bottomLogoDiv),children:Object(ie.jsx)(ne,{width:"7em",height:"7em",className:a.bottomLogoFill})})]})}}]),a}(r.Component),Te={repopulate_state:C},_e=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,avatar_url:e.login.avatar_url,gravatar_id:e.login.gravatar_id,error:e.login.error}}),Te)(Object(q.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",overflowX:"auto",backgroundImage:"url(".concat(Pe,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},centeredDiv:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},welcomeDiv:{width:"100%",height:"100vh",display:"flex",flexDirection:"row",textAlign:"left",justifyContent:"center",alignItems:"left",position:"relative"},tutorialDiv:{width:"90%",height:"100vh",display:"flex",flexDirection:"row",textAlign:"left",justifyContent:"center",alignItems:"left",position:"relative"},welcomeText:{flexGrow:1},typoHeader:{},typoSubtitle:{},portfolioIcon:{width:"40vh",height:"40vh",borderRadius:"20vh"},featuresDiv:{position:"relative",width:"80vw",height:"70vh",flexDirection:"row",marginBlock:"10vh",backgroundColor:"transparent",borderWidth:"1px",borderStyle:"solid"},boxShadow:{zIndex:"-1",top:"5vh",left:"-5vh",width:"100%",height:"100%",position:"absolute"},boxShadowColor1:{backgroundColor:"#FEF9C7"},boxShadowColor2:{backgroundColor:"#FCE181"},boxShadowColor3:{backgroundColor:"#9FEDD7"},boxShadowColor4:{backgroundColor:"#026670"},fullSize:{width:"100%",height:"100%"},floating:{zIndex:1},featureRight:{marginLeft:"auto",borderRight:"none"},featureLeft:{marginRight:"auto",borderLeft:"none"},featureImg:{width:"50%",height:"inherit",objectFit:"cover",maxHeight:"90%",maxWidth:"90%",margin:"5vh",marginInline:"5vh"},flexColumn:{display:"flex",flexDirection:"column"},flexRow:{display:"flex",flexDirection:"row"},homeButton:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"absolute",backgroundColor:"transparent",top:0,left:0,padding:"1%"},logoFont:{fontFamily:"Helvetica",fontSize:"1.5em",fontWeight:"bold"},autoMargin:{margin:"auto"},boldFont:{fontWeight:"bold"},whiteSpacePreLine:{whiteSpace:"pre-line"},loginButton:{width:"max-content"},welcomeImage:{marginRight:"auto",maxWidth:"50%",minHeight:"50%",maxHeight:"100%"},featureDiv:{marginInline:"auto",maxWidth:"50%",padding:"6vh"},messageDiv:{borderColor:"#000",padding:"5vh",border:"solid 1px",margin:"auto",marginBottom:"15vh"},riFileCodeLine:{margin:"auto"},bottomLogoDiv:{backgroundColor:"#000",height:"50vh",width:"100%"},bottomLogoFill:{fill:"#fff"}}}))(Ee)),Le=a(88),Re=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n,i,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.loggedIn){e.next=5;break}return e.next=3,JSON.parse(window.localStorage.getItem("portfolioUser"));case 3:null===(t=e.sent)?(a=window.location.search,n=new URLSearchParams(a),""!==(i=n.get("code"))?k()({method:"POST",url:"".concat("https://resumate.xyz/api","/login/authenticate"),withCredentials:!0,responseType:"json",data:{code:i}}).then((function(e){return e.data})).then((function(e){var t={loggedIn:!0,name:e.name,id:e.id,avatar_url:e.avatar_url,gravatar_id:e.gravatar_id};window.localStorage.setItem("portfolioUser",JSON.stringify(t)),r.props.fetchPortfolios(e.id),r.props.log_in_user(e)})).catch((function(e){console.log(e.message)})):console.log("gh code missing")):this.props.repopulate_state(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.classes;return t?Object(ie.jsx)(Z.b,{to:"/dashboard"}):Object(ie.jsxs)("div",{className:a.root,children:[Object(ie.jsx)("div",{className:a.appBarSpacer}),Object(ie.jsx)(Le.BeatLoader,{})]})}}]),a}(r.Component),Be={log_in_user:function(e){return{type:O,payload:Object(j.a)({},e)}},repopulate_state:C,fetchPortfolios:R},Ae=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn}}),Be)(Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center"},appBarSpacer:e.mixins.toolbar}}))(Re)),Ue=a(120),Me=a(278),ze=a(298),We=a(284),Ge=a(289),He=a(286),qe=a(287),Je=a(285),Ke=a(279),Ve=a(280),Ye=a(282),Xe=a(281),$e=a(145),Qe=a(303),Ze=a(18),et=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={nameDialogState:!1,portfolioName:"MyPortfolio",duplicateKeyError:!1,duplicateKeyHelperText:"",anchorEl:null,currentPortfolio_Id:"",deleteDialogState:!1,changeNameDialogState:!1,changedName:"",images:{},defaultPreviewSrc:"https://cdn.dribbble.com/users/200733/screenshots/15094543/media/fb4bf141f17b05df82f77926d94ccd6d.png"},e.handleAddPortfolio=e.handleAddPortfolio.bind(Object(f.a)(e)),e.handleOpenPortfolio=e.handleOpenPortfolio.bind(Object(f.a)(e)),e.handleOnChange=e.handleOnChange.bind(Object(f.a)(e)),e.handleNameDialog=e.handleNameDialog.bind(Object(f.a)(e)),e.handleDeletePortfolio=e.handleDeletePortfolio.bind(Object(f.a)(e)),e.handleOpenEditMenu=e.handleOpenEditMenu.bind(Object(f.a)(e)),e.handleCloseEditMenu=e.handleCloseEditMenu.bind(Object(f.a)(e)),e.handleDeleteDialogState=e.handleDeleteDialogState.bind(Object(f.a)(e)),e.handleChangeNameDialogState=e.handleChangeNameDialogState.bind(Object(f.a)(e)),e.handleChangePortfolioName=e.handleChangePortfolioName.bind(Object(f.a)(e)),e.handleGetImage=e.handleGetImage.bind(Object(f.a)(e)),e.handleDeleteImage=e.handleDeleteImage.bind(Object(f.a)(e)),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.loggedIn){e.next=7;break}return e.next=3,JSON.parse(window.localStorage.getItem("portfolioUser"));case 3:if(null===(t=e.sent)){e.next=7;break}return e.next=7,this.props.repopulate_state(t);case 7:return e.next=9,this.props.fetchPortfolios(this.props.id);case 9:this.props.portfolios.map((function(e){return a.handleGetImage(e._id)}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCookie",value:function(e){console.log("testing cookie"),k()({method:"GET",url:"https://resumate.xyz/api/portfolio/status",withCredentials:!0}).then((function(e){console.log("authorized"),console.log(e.data)}))}},{key:"handleOnChange",value:function(e){this.setState({duplicateKeyError:!1,duplicateKeyHelperText:""}),this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleNameDialog",value:function(e){this.setState({nameDialogState:e})}},{key:"handleDeleteDialogState",value:function(e){e?this.handleCloseEditMenu():this.setState({portfolioName:"",duplicateKeyError:!1,duplicateKeyHelperText:""}),this.setState({deleteDialogState:e})}},{key:"handleAddPortfolio",value:function(){var e=this;if(""===this.state.portfolioName)this.setState({duplicateKeyError:!0,duplicateKeyHelperText:"Portfolio name cannot be empty"});else if(0===this.props.portfolios.filter((function(t){return t.name===e.state.portfolioName})).length){this.props.clearCurrentWorkFromLocal();var t={_id:void 0,name:this.state.portfolioName,pages:void 0};this.props.saveCurrentWorkToLocal(t),this.props.history.push("/edit")}else this.setState({duplicateKeyError:!0,duplicateKeyHelperText:"Portfolio name already exists"})}},{key:"handleOpenPortfolio",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.id,e.next=3,k()({method:"GET",url:"https://resumate.xyz/api/portfolio/"+a,withCredentials:!0}).then(function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("portfolio ".concat(t.data.portfolio.name," fetched")),e.next=3,n.props.saveCurrentWorkToLocal(t.data.portfolio);case 3:n.props.history.push("/edit");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H(e,n.props.history)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeletePortfolio",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({method:"DELETE",url:"https://resumate.xyz/api/portfolio/delete/"+this.state.currentPortfolio_Id,withCredentials:!0}).then(function(){var e=Object(u.a)(d.a.mark((function e(a){var n,i,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.data.message),e.next=3,t.props.fetchPortfolios(t.props.id);case 3:n=0,i=Object.keys(t.state.images[t.state.currentPortfolio_Id]);case 4:if(!(n<i.length)){e.next=11;break}return r=i[n],e.next=8,t.handleDeleteImage(r);case 8:n++,e.next=4;break;case 11:delete(o=t.state.images)[t.state.currentPortfolio_Id],t.setState({images:o});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H(e,t.props.history)}));case 2:this.handleDeleteDialogState(!1);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOpenEditMenu",value:function(e){this.setState({anchorEl:e.currentTarget,currentPortfolio_Id:e.currentTarget.id})}},{key:"handleCloseEditMenu",value:function(){this.setState({anchorEl:null})}},{key:"handleChangeNameDialogState",value:function(e){e?this.handleCloseEditMenu():this.setState({changedName:"",duplicateKeyError:!1,duplicateKeyHelperText:""}),this.setState({changeNameDialogState:e})}},{key:"handleChangePortfolioName",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.changedName){e.next=4;break}this.setState({duplicateKeyError:!0,duplicateKeyHelperText:"Portfolio name cannot be empty"}),e.next=16;break;case 4:if(0!==this.props.portfolios.filter((function(e){return e.name===n.state.changedName})).length){e.next=15;break}return t=this.props.portfolios.find((function(e){return e._id===n.state.currentPortfolio_Id})),(a=Object(j.a)({},t)).name=this.state.changedName,e.next=10,k()({method:"PUT",url:"https://resumate.xyz/api/portfolio/updatePortfolio",withCredentials:!0,data:{portfolio:a}}).then((function(e){console.log(e.data.message)})).catch((function(e){H(e,n.props.history)}));case 10:return e.next=12,this.props.fetchPortfolios(this.props.id);case 12:this.handleChangeNameDialogState(!1),e.next=16;break;case 15:this.setState({duplicateKeyError:!0,duplicateKeyHelperText:"Portfolio name already exists"});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleGetImage",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({method:"GET",url:"https://resumate.xyz/api/portfolio/getImageRefs/"+t,withCredentials:!0}).then(function(){var e=Object(u.a)(d.a.mark((function e(n){var i,r,o,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n.data.message),i=n.data.images,r=a.state.images,o=Object(Ue.a)(i),e.prev=4,c=d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.value,e.next=3,k()({method:"GET",url:"https://resumate.xyz/api/portfolio/getImage/"+t,withCredentials:!0,responseType:"blob",params:{label:a.label}}).then((function(e){console.log("image ".concat(a.label," fetched"));var n={};n[a.label]=URL.createObjectURL(e.data),r[t]=n})).catch((function(e){e.response?console.log(e.response.data):console.log(e.message)}));case 3:case"end":return e.stop()}}),e)})),o.s();case 7:if((s=o.n()).done){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),o.e(e.t1);case 16:return e.prev=16,o.f(),e.finish(16);case 19:a.setState({images:r});case 20:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H(e,a.props.history)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDeleteImage",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({method:"DELETE",url:"https://resumate.xyz/api/portfolio/deleteImage/"+this.state.currentPortfolio_Id,withCredentials:!0,data:{label:t}}).then((function(e){console.log(e.data.message);var n=a.state.images,i=n[a.state.currentPortfolio_Id];void 0!==i&&(delete i[t],a.setState({images:n}))})).catch((function(e){H(e,a.props.history)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.portfolios,n=t.classes;return Object(ie.jsxs)("div",{className:n.root,children:[Object(ie.jsx)("div",{className:n.appBarSpacer}),Object(ie.jsxs)(z.a,{variant:"h2",component:"h3",children:["Here is your dashboard ",this.props.name,"!"]}),Object(ie.jsx)(Me.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:this.props.loading?Object(ie.jsx)(Le.BeatLoader,{}):this.props.error?404===this.props.error.response.status?Object(ie.jsx)(z.a,{variant:"h6",children:"Create your first Portfolio!"}):Object(ie.jsx)(z.a,{variant:"h6",children:this.props.error.message}):0===a.length?Object(ie.jsx)(z.a,{variant:"h6",children:"Oops. It appears that you have no saved Portfolios"}):a.map((function(t,a){return Object(ie.jsxs)(Ke.a,{className:n.cardRoot,children:[Object(ie.jsxs)("div",{className:n.cardDetails,children:[Object(ie.jsx)(Ve.a,{children:Object(ie.jsx)(z.a,{component:"h5",variant:"h5",children:t.name})}),Object(ie.jsxs)(Xe.a,{className:n.cardControls,children:[Object(ie.jsx)(V.a,{id:t._id,className:n.portfolioButton,"aria-controls":"edit-menu","aria-haspopup":"true",onClick:e.handleOpenEditMenu,children:Object(ie.jsx)(Ze.FaRegEdit,{})}),Object(ie.jsx)("span",{className:n.cardGap}),Object(ie.jsx)(V.a,{id:t._id,className:n.portfolioButton,onClick:e.handleOpenPortfolio,children:"Open"})]})]}),Object(ie.jsx)(Ye.a,{component:"img",className:n.cardMedia,height:"150",width:"150",src:void 0===e.state.images[t._id]||void 0===e.state.images[t._id].preview?e.state.defaultPreviewSrc:e.state.images[t._id].preview})]},a)}))}),Object(ie.jsx)(V.a,{onClick:function(){return e.handleNameDialog(!0)},className:n.portfolioButton,children:"Add a Portfolio"}),Object(ie.jsxs)($e.a,{id:"edit-menu",anchorEl:this.state.anchorEl,className:n.portfolioMenu,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleCloseEditMenu,getContentAnchorEl:null,anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"left"},children:[Object(ie.jsx)(Qe.a,{className:n.portfolioMenuItem,onClick:function(){return e.handleDeleteDialogState(!0)},children:"Delete"}),Object(ie.jsx)(Qe.a,{className:n.portfolioMenuItem,onClick:function(){return e.handleChangeNameDialogState(!0)},children:"Change Name"})]}),Object(ie.jsxs)(We.a,{open:this.state.nameDialogState,onClose:function(){return e.handleNameDialog(!1)},"aria-labelledby":"portfolio name dialog",fullWidth:!0,children:[Object(ie.jsx)(Je.a,{id:"portfolio-name-dialog-title",children:"Portfolio Name"}),Object(ie.jsxs)(He.a,{children:[Object(ie.jsx)(qe.a,{children:"Set your Portfolio name here."}),Object(ie.jsx)(ze.a,{name:"portfolioName",autoFocus:!0,margin:"dense",label:"Portfolio Name",type:"string",defaultValue:this.state.portfolioName,fullWidth:!0,onChange:this.handleOnChange,error:this.state.duplicateKeyError,helperText:this.state.duplicateKeyHelperText})]}),Object(ie.jsxs)(Ge.a,{children:[Object(ie.jsx)(V.a,{onClick:function(){return e.handleNameDialog(!1)},children:"Cancel"}),Object(ie.jsx)(V.a,{onClick:this.handleAddPortfolio,children:"Set Name"})]})]}),Object(ie.jsxs)(We.a,{open:this.state.deleteDialogState,onClose:function(){return e.handleDeleteDialogState(!1)},"aria-labelledby":"delete-confirmation-dialog","aria-describedby":"delete-confirmation-dialog",fullWidth:!0,children:[Object(ie.jsx)(Je.a,{id:"delete-confirmation-title",children:"Delete Portfolio Confirmation"}),Object(ie.jsx)(He.a,{children:Object(ie.jsx)(qe.a,{id:"delete-confirmation-description",className:n.textPrimaryColor,children:"Are you sure you want to delete this Portfolio? This action is irreversible and your portfolio will be deleted permanently."})}),Object(ie.jsxs)(Ge.a,{children:[Object(ie.jsx)(V.a,{onClick:function(){return e.handleDeleteDialogState(!1)},children:"Cancel"}),Object(ie.jsx)(V.a,{onClick:this.handleDeletePortfolio,children:"Delete"})]})]}),Object(ie.jsxs)(We.a,{open:this.state.changeNameDialogState,onClose:function(){return e.handleChangeNameDialogState(!1)},"aria-labelledby":"change-name-dialog","aria-describedby":"change-name-dialog",fullWidth:!0,children:[Object(ie.jsx)(Je.a,{id:"change-name-dialog-title",children:"Change Portfolio Name"}),Object(ie.jsxs)(He.a,{children:[Object(ie.jsx)(qe.a,{children:"Type your new portfolio name here."}),Object(ie.jsx)(ze.a,{name:"changedName",autoFocus:!0,margin:"dense",label:"New Portfolio Name",type:"string",defaultValue:this.state.changedName,fullWidth:!0,onChange:this.handleOnChange,error:this.state.duplicateKeyError,helperText:this.state.duplicateKeyHelperText})]}),Object(ie.jsxs)(Ge.a,{children:[Object(ie.jsx)(V.a,{onClick:function(){return e.handleChangeNameDialogState(!1)},children:"Cancel"}),Object(ie.jsx)(V.a,{onClick:this.handleChangePortfolioName,children:"Change"})]})]})]})}}]),a}(r.Component),tt={repopulate_state:C,fetchPortfolios:R,saveCurrentWorkToLocal:_,clearCurrentWorkFromLocal:L},at=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,portfolios:e.portfolio.portfolios,loading:e.portfolio.loading,error:e.portfolio.error}}),tt)(Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",margin:"auto"},portfolioButton:{variant:"contained",size:"small",color:"primary"},cardRoot:{margin:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center"},cardDetails:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},cardControls:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardMedia:{width:151,height:151},cardGap:{width:"15vh"},portfolioMenu:{display:"inline-block"},portfolioMenuItem:{display:"inline"},textPrimaryColor:{color:e.palette.text.primary},appBarSpacer:e.mixins.toolbar}}))(Object(Z.h)(et))),nt=a(39),it=a(37),rt=a(296),ot=a(290),st=a(91),ct=a(121),lt=a.n(ct),dt=a(295),ut=a(153),ht=a(299),pt=a(291),ft=a(288),mt=a(122),gt=a(123),bt=a(124),jt=a(125),vt=a(126),Ot=a(127),xt=a(128),yt=a(129),wt=a(130),Ct=a(131),St=a(132),kt=a(133),Nt=a(134),Dt=a(135),It=a(136),Pt=a(137),Ft=a(138),Et=a(139),Tt=a(140),_t={label:"Ant Design",icons:mt},Lt={label:"Bootstrap",icons:gt},Rt={label:"BoxIcons",icons:bt},Bt={label:"Devicons",icons:jt},At={label:"Feather",icons:vt},Ut={label:"Flat Color",icons:Ot},Mt={label:"Font Awesome",icons:Ze},zt={label:"Game Icons",icons:xt},Wt={label:"Github Octicons",icons:yt},Gt={label:"Grommet",icons:wt},Ht={label:"Heroicons",icons:Ct},qt={label:"IcoMoon",icons:St},Jt={label:"Ionicons 4",icons:kt},Kt={label:"Ionicons 5",icons:Nt},Vt={label:"Materal Design",icons:Dt},Yt={label:"Remix",icons:Fe},Xt={label:"Simple",icons:It},$t={label:"Typicons",icons:Pt},Qt={label:"VS Code",icons:Ft},Zt={label:"Weather",icons:Et},ea={label:"css.gg",icons:Tt},ta=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var n;Object(h.a)(this,a),n=t.call(this,e);var i=JSON.parse(JSON.stringify(n.props.fields));return n.state={data:i,showEditor:!1,anchorEl:null,mediaAnchorEl:null,showIcon:!1,iconCategory:"ai",editSection:!1,currentSection:0,imageName:""},n.handleCreateEntry=n.handleCreateEntry.bind(Object(f.a)(n)),n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.handleImageUpload=n.handleImageUpload.bind(Object(f.a)(n)),n.handleSectionView=n.handleSectionView.bind(Object(f.a)(n)),n.handleCloseEditor=n.handleCloseEditor.bind(Object(f.a)(n)),n.handleIconSelect=n.handleIconSelect.bind(Object(f.a)(n)),n.handleFont=n.handleFont.bind(Object(f.a)(n)),n.fileUploadRef=o.a.createRef(),n.imgColPickerRef=o.a.createRef(),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"handleChange",value:function(e,t,a){if(console.log(e),""===t)this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},Object(b.a)({},e.target.name,e.target.value))});else if(void 0===a||!1===a){var n=Object(j.a)({},this.state.data[t]);n[e.target.name]=e.target.value,this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},Object(b.a)({},t,n))})}else{var i=Object(it.a)(this.state.data.sections);i[this.state.currentSection].texts[e.target.name]=e.target.value,this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},{sections:i})})}}},{key:"handleImageUpload",value:function(e){var t=this;console.log(this.state);var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onloadend=function(e){if(t.state.editSection){var a=Object(it.a)(t.state.data.sections);a[t.state.currentSection].images[t.state.imageName].src=e.target.result,a[t.state.currentSection].images[t.state.imageName].format="image",t.setState({data:Object(j.a)(Object(j.a)({},t.state.data),{},{sections:a}),mediaAnchorEl:null})}else t.setState({data:Object(j.a)(Object(j.a)({},t.state.data),{},{images:Object(j.a)(Object(j.a)({},t.state.data.images),{},Object(b.a)({},t.state.imageName,{src:e.target.result,format:"image"}))}),mediaAnchorEl:null})}}},{key:"handleDeleteSection",value:function(e){var t=this,a=this.state.data.sections.filter((function(e,a){return a!==t.state.currentSection}));this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},{sections:a})})}},{key:"handleCreateEntry",value:function(){var e=JSON.parse(JSON.stringify(this.props.info.sections.defaultEntry));this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},{sections:[].concat(Object(it.a)(this.state.data.sections),[e])})})}},{key:"handleSectionView",value:function(e){var t=this.state.currentSection+e;t<0?t=this.state.data.sections.length:t>this.state.data.sections.length&&(t=0),this.setState({currentSection:t})}},{key:"handleCloseEditor",value:function(e){e?this.props.onClose(this.state.data,!0):this.props.onClose(null,!1),this.setState({showEditor:!1})}},{key:"handleFont",value:function(e,t,a){void 0===t?this.setState({anchorEl:e.currentTarget}):this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},{fonts:Object(j.a)(Object(j.a)({},this.state.data.fonts),{},Object(b.a)({},t,a))}),anchorEl:null})}},{key:"handleIconSelect",value:function(e){var t="".concat(this.state.iconCategory,"/").concat(e);if(console.log("test"),this.state.editSection){var a=Object(it.a)(this.state.data.sections);a[this.state.currentSection].images[this.state.imageName].src=t,a[this.state.currentSection].images[this.state.imageName].format="icon",this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},{sections:a}),showIcon:!1,mediaAnchorEl:null})}else this.setState({data:Object(j.a)(Object(j.a)({},this.state.data),{},{images:Object(j.a)(Object(j.a)({},this.state.data.images),{},Object(b.a)({},this.state.imageName,{src:t,format:"icon"}))}),showIcon:!1,mediaAnchorEl:null})}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(ie.jsxs)("div",{"data-html2canvas-ignore":"true",children:[Object(ie.jsx)(ot.a,{className:t.editFAB,onClick:function(){var t=JSON.parse(JSON.stringify(e.props.fields));e.setState({data:t,currentSection:0,showEditor:!0})},children:Object(ie.jsx)(Ze.FaEdit,{})}),Object(ie.jsx)(ut.a,{className:t.modal,open:this.state.showEditor,onClose:function(){return e.handleCloseEditor(!0)},"aria-labelledby":"Entry editor","aria-describedby":"Edit your entry fields here",children:Object(ie.jsxs)("div",{className:t.root,children:[Object(ie.jsx)(z.a,{component:"h3",variant:"h3",children:"Entry editor"}),Object(ie.jsx)("input",{accept:"image/*",className:"".concat(t.imgInput," ").concat(t.hide),ref:this.fileUploadRef,type:"file",onChange:this.handleImageUpload}),Object(ie.jsx)("input",{type:"color",ref:this.imgColPickerRef,onChange:function(t){if(e.state.editSection){var a=Object(it.a)(e.state.data.sections);a[e.state.currentSection].images[e.state.imageName].src=t.target.value,a[e.state.currentSection].images[e.state.imageName].format="colour",e.setState({data:Object(j.a)(Object(j.a)({},e.state.data),{},{sections:a}),mediaAnchorEl:null})}else e.setState({data:Object(j.a)(Object(j.a)({},e.state.data),{},{images:Object(j.a)(Object(j.a)({},e.state.data.images),{},Object(b.a)({},e.state.imageName,{src:t.target.value,format:"colour"}))}),mediaAnchorEl:null})},onBlur:function(){return console.log("asda")},className:t.hide}),Object(ie.jsx)(ut.a,{open:this.state.showIcon,"aria-labelledby":"icon selection modal","aria-describedby":"a modal for users to pick an icon",className:"".concat(t.modal," ").concat(t.subModal),onClose:function(){return e.setState({showIcon:!1,mediaAnchorEl:null})},children:Object(ie.jsxs)("div",{className:t.maxHeightWidth,children:[Object(ie.jsx)(ht.a,{name:"iconCategory",value:this.state.iconCategory,onChange:function(t,a){return e.setState({iconCategory:a})},variant:"scrollable",scrollButtons:"auto",children:Object.entries(i).map((function(e){var a=Object(nt.a)(e,2),n=a[0],i=a[1];return Object(ie.jsx)(pt.a,{label:i.label,value:n,className:t.entryIcon})}))}),Object(ie.jsx)("div",{role:"tabpanel",className:t.gridDiv,children:Object.entries(i[this.state.iconCategory].icons).map((function(a){var n=Object(nt.a)(a,2),i=n[0],r=n[1];return Object(ie.jsx)(J.a,{onClick:function(){return e.handleIconSelect(i)},children:Object(ie.jsxs)("div",{className:t.iconDiv,children:[Object(ie.jsx)(r,{size:"1.5em"}),Object(ie.jsx)(z.a,{noWrap:!0,variant:"h6",component:"h6",className:t.entryIconName,children:i})]})})}))})]})}),Object(ie.jsxs)("div",{className:t.rowDiv,children:[Object(ie.jsxs)("div",{className:t.styleDiv,children:[Object(ie.jsx)(ze.a,{id:"width",label:"width",name:"width",value:this.state.data.width,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"")},className:t.styleInput}),Object(ie.jsx)(ze.a,{id:"height",label:"height",name:"height",value:this.state.data.height,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"")},className:t.styleInput}),Object.entries(this.state.data.fonts).map((function(t){var a=Object(nt.a)(t,2),n=a[0],i=a[1];return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(V.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){return e.handleFont(t)},children:Object(ie.jsx)(z.a,{variant:"inherit",style:{fontFamily:i},children:e.props.info.fonts[n].label})}),Object(ie.jsx)($e.a,{name:n,id:n,anchorEl:e.state.anchorEl,keepMounted:!0,open:Boolean(e.state.anchorEl),onClose:function(){return e.setState({anchorEl:null})},children:je.map((function(t){return Object(ie.jsx)(Qe.a,{onClick:function(a){return e.handleFont(a,n,t)},children:Object(ie.jsx)(z.a,{variant:"inherit",style:{fontFamily:t},children:t})})}))})]})})),Object.entries(this.state.data.colours).map((function(a){var n=Object(nt.a)(a,2),i=n[0],r=n[1];return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(ft.a,{type:"color",name:i,id:i,value:r,onChange:function(t){return e.handleChange(t,"colours")},className:t.maxWidth}),Object(ie.jsx)(ze.a,{name:i,id:i,value:r,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"colours")}}),Object(ie.jsx)(z.a,{component:"h6",variant:"h6",children:e.props.info.colours[i].label})]})}))]}),Object(ie.jsxs)("div",{className:t.colDiv,children:[Object(ie.jsxs)("div",{className:t.rowDiv,children:[Object(ie.jsx)("div",{className:t.imgGrid,children:Object.entries(this.state.data.images).map((function(a){var n,r=Object(nt.a)(a,2),o=r[0],s=r[1];switch(s.format){case"image":n=function(e){return Object(ie.jsx)("img",{src:s.src,className:t.imgPreview})};break;case"icon":var c=s.src.split("/");n=i[c[0]].icons[c[1]];break;case"colour":n=function(e){return Object(ie.jsx)("div",{style:{backgroundColor:s.src,height:100,width:100}})}}return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)(V.a,{"aria-controls":"media-menu","aria-haspopup":"true",onClick:function(t){return e.setState({mediaAnchorEl:t.currentTarget,imageName:o,editSection:!1})},children:[Object(ie.jsx)(n,{}),Object(ie.jsx)(z.a,{children:e.props.info.images[o].label})]}),Object(ie.jsx)($e.a,{id:"media-menu",anchorEl:e.state.mediaAnchorEl,keepMounted:!0,open:Boolean(e.state.mediaAnchorEl)&&!e.state.editSection&&e.state.imageName===o,onClose:function(){return e.setState({mediaAnchorEl:null})},children:e.props.info.images[o].format.map((function(t){switch(t){case"image":return Object(ie.jsx)(Qe.a,{onClick:function(){e.fileUploadRef.current.click()},children:t});case"icon":var a=s.src.split("/");return Object(ie.jsx)(Qe.a,{onClick:function(){return e.setState({showIcon:!0,iconCategory:a[0]})},children:t});case"colour":return Object(ie.jsx)(Qe.a,{onClick:function(){return e.imgColPickerRef.current.click()},children:t})}}))})]})}))}),Object(ie.jsx)("div",{className:t.textGrid,children:Object.entries(this.state.data.texts).map((function(t){var a=Object(nt.a)(t,2),n=a[0],i=a[1];return Object(ie.jsx)("div",{children:Object(ie.jsx)(ze.a,{name:n,id:n,label:e.props.info.texts[n].label,value:i,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"texts")}})})}))})]}),this.props.info.sections.enabled&&Object(ie.jsxs)("div",{className:t.sectionDiv,children:[Object(ie.jsx)(J.a,{id:"left",onClick:function(){return e.handleSectionView(-1)},children:Object(ie.jsx)(Ze.FaChevronLeft,{})}),this.state.currentSection===this.state.data.sections.length?Object(ie.jsxs)("div",{className:t.colDiv,children:[Object(ie.jsx)(z.a,{component:"h4",variant:"h4",className:t.colDiv,children:"Add new section"}),Object(ie.jsx)("div",{className:t.addSectionSpacer}),Object(ie.jsx)(J.a,{onClick:this.handleCreateEntry,children:Object(ie.jsx)(Ze.FaPlus,{})})]}):Object(ie.jsxs)("div",{className:t.colDiv,children:[Object(ie.jsxs)("div",{className:t.rowDiv,children:[Object(ie.jsxs)(z.a,{component:"h4",variant:"h4",className:t.colDiv,children:["Section ",this.state.currentSection+1]}),Object(ie.jsx)(J.a,{onClick:function(t){return e.handleDeleteSection(t)},children:Object(ie.jsx)(Ze.FaTrashAlt,{})})]}),Object(ie.jsxs)("div",{className:t.rowDiv,children:[Object(ie.jsx)("div",{className:t.imgGrid,children:Object.entries(this.state.data.sections[this.state.currentSection].images).map((function(a){var n,r=Object(nt.a)(a,2),o=r[0],s=r[1];switch(s.format){case"image":n=function(e){return Object(ie.jsx)("img",{src:s.src,className:t.imgPreview})};break;case"icon":var c=s.src.split("/"),l=i[c[0]].icons[c[1]];n=function(e){return Object(ie.jsx)(l,{size:"3em"})};break;case"colour":n=function(e){return Object(ie.jsx)("div",{style:{backgroundColor:s.src,height:100,width:100}})}}return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(V.a,{"aria-controls":"media-menu","aria-haspopup":"true",onClick:function(t){return e.setState({mediaAnchorEl:t.currentTarget,imageName:o,editSection:!0})},children:Object(ie.jsxs)("div",{className:t.entryInfoDiv,children:[Object(ie.jsx)(n,{}),Object(ie.jsx)(z.a,{children:e.props.info.sections.entryFormat.images[o].label})]})}),Object(ie.jsx)($e.a,{id:"media-menu",anchorEl:e.state.mediaAnchorEl,keepMounted:!0,open:Boolean(e.state.mediaAnchorEl)&&e.state.editSection&&e.state.imageName===o,onClose:function(){return e.setState({mediaAnchorEl:null})},children:e.props.info.sections.entryFormat.images[o].format.map((function(t){switch(t){case"image":return Object(ie.jsx)(Qe.a,{onClick:function(){e.fileUploadRef.current.click()},children:t});case"icon":var a=s.src.split("/");return Object(ie.jsx)(Qe.a,{onClick:function(){return e.setState({showIcon:!0,iconCategory:a[0]})},children:t});case"colour":return Object(ie.jsx)(Qe.a,{onClick:e.imgColPickerRef.current.click(),children:t})}}))})]})}))}),Object(ie.jsx)("div",{className:t.textGrid,children:Object.entries(this.state.data.sections[this.state.currentSection].texts).map((function(t){var a=Object(nt.a)(t,2),n=a[0],i=a[1];return Object(ie.jsx)("div",{children:Object(ie.jsx)(ze.a,{name:n,id:n,label:e.props.info.sections.entryFormat.texts[n].label,value:i,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"texts",!0)},multiline:!0,rowsMax:3})})}))})]})]}),Object(ie.jsx)(J.a,{id:"right",onClick:function(){return e.handleSectionView(1)},children:Object(ie.jsx)(Ze.FaChevronRight,{})})]})]})]}),Object(ie.jsxs)("div",{className:t.ctrlDiv,children:[Object(ie.jsxs)(ot.a,{variant:"extended",onClick:function(){return e.handleCloseEditor(!0)},children:[Object(ie.jsx)(Ze.FaSave,{}),"Save"]}),Object(ie.jsxs)(ot.a,{variant:"extended",onClick:function(){return e.handleCloseEditor(!1)},children:[Object(ie.jsx)(Ze.FaTimes,{}),"Cancel"]})]})]})})]})}}]),a}(r.Component),aa={repopulate_state:C},na=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn}}),aa)(Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"5%",textAlign:"center",backgroundColor:e.palette.background.default,opacity:"85%"},modal:{overflowX:"hidden",overflowY:"auto",display:"flex",flexDirection:"column",padding:"1%"},floating:{margin:0,top:"auto",left:"auto",bottom:"8%",right:"5%",position:"fixed",textAlign:"center"},textGrid:{margin:"1vw",display:"grid",width:"100%",gridTemplateColumns:"repeat(auto-fill, 200px)"},imgGrid:{margin:"1vw",display:"grid",width:"100%",gridTemplateColumns:"repeat(auto-fill, 150px)"},imgPreview:{width:"5vw",height:"5vw"},sectionDiv:{width:"100%",display:"flex",flexDirection:"row",marginTop:"auto"},div:{padding:"10px"},rowDiv:{width:"100%",display:"flex",flexDirection:"row",overflow:"auto"},colDiv:{width:"100%",display:"flex",flexDirection:"column"},styleDiv:{display:"flex",flexDirection:"column",height:"100%",overflow:"auto"},addSectionSpacer:{height:e.spacing(5)},ctrlDiv:{display:"flex",flexDirection:"row",marginTop:"auto",marginLeft:"auto"},editFAB:{position:"absolute",marginTop:"2vw",marginLeft:"2vw"},gridDiv:{display:"grid",width:"100%",gridTemplateColumns:"repeat(auto-fill, 6em)",gridGap:"10px",justifyContent:"center",height:"80%",overflowY:"auto",overflowX:"hidden"},iconBtn:{width:"4em",height:"3em"},iconDiv:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"inherit",height:"inherit"},subModal:{width:"80%",height:"80%",margin:"auto",backgroundColor:e.palette.primary.main},hide:{display:"none"},maxHeightWidth:{width:"100%",height:"100%"},entryIcon:{height:"inherit"},entryIconName:{width:"inherit",fontSize:"0.5em"},maxWidth:{width:"100%"},entryInfoDiv:{display:"flex",flexDirection:"column"}}}))(ta)),ia=a.p+"static/media/IntroMinimalist.ec6700a1.JPG",ra=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.call(this)}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.fields;return Object(ie.jsxs)("div",{className:a.root,style:(e={backgroundRepeat:!1,backgroundImage:"image"===n.images.bg.format?'url("'.concat(n.images.bg.src,'")'):"",backgroundColor:"colour"===n.images.bg.format?n.images.bg.src:"",backgroundSize:"cover"},Object(b.a)(e,"backgroundRepeat","no-repeat"),Object(b.a)(e,"width",n.width),Object(b.a)(e,"height",n.height),Object(b.a)(e,"minHeight","1000px"),Object(b.a)(e,"display","flex"),Object(b.a)(e,"flexDirection","row"),e),children:[Object(ie.jsx)(W.a,{}),Object(ie.jsx)("div",{style:{marginLeft:"auto",marginRight:"10%"},children:Object(ie.jsxs)(K.a,{className:a.textBox,children:[Object(ie.jsx)(z.a,{component:"h2",variant:"h2",style:{color:n.colours.secondary,fontFamily:"Arial, Helvetica, sans-serif"},children:"Hello! my name is"}),Object(ie.jsx)(z.a,{component:"h1",variant:"h1",style:{color:n.colours.primary,fontFamily:"".concat(n.fonts.titleFont,", Arial, Helvetica, sans-serif")},children:n.texts.name}),Object(ie.jsx)(z.a,{component:"h2",variant:"h2",style:{color:n.colours.secondary,fontFamily:"Arial, Helvetica, sans-serif"},children:n.texts.status})]})}),Object(ie.jsx)("img",{src:n.images.dp.src,alt:"my portrait",style:{height:"100%",width:"auto",marginRight:"auto"}})]})}}]),a}(r.Component);ra.templateName="Minimalist",ra.preview=ia,ra.info={fonts:{titleFont:{label:"title font"}},colours:{primary:{label:"primary"},secondary:{label:"secondary"}},images:{dp:{label:"Your portrait photo",format:["image"]},bg:{label:"Entry background",format:["image","colour"]}},texts:{name:{label:"Your full name"},status:{label:"your current position"}},sections:{}},ra.script=function(e){return""},ra.defaultField={width:"100%",height:"80vh",fonts:{titleFont:"Roboto"},colours:{primary:"#d19a19",secondary:"#000000"},images:{dp:{src:"https://bit.ly/3fRv2Y2",format:"image"},bg:{src:"https://bit.ly/2RWO4Ei",format:"image"}},texts:{name:"Port Folio",status:"UI/UX developer"},sections:[]};var oa=Object(q.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},std:{display:"block"},textBox:{backgroundColor:"#FFFFFF",opacity:"75%",padding:"15%",width:"max-content"}}}))(ra),sa=a.p+"static/media/TimelineMinimalist.58a9e55e.JPG",ca=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.call(this)}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.fields;return Object(ie.jsxs)("div",{className:a.root,style:(e={backgroundRepeat:!1,backgroundImage:'url("'.concat(n.images.bg.src,'")'),backgroundSize:"cover"},Object(b.a)(e,"backgroundRepeat","no-repeat"),Object(b.a)(e,"width",n.width),Object(b.a)(e,"height",n.height),Object(b.a)(e,"display","flex"),Object(b.a)(e,"flexDirection","column"),Object(b.a)(e,"textAlign","center"),e),children:[Object(ie.jsx)(W.a,{}),Object(ie.jsx)(z.a,{component:"h2",variant:"h2",style:{color:n.colours.primary,fontFamily:"".concat(n.fonts.titleFont,", Helvetica, sans-serif")},className:a.title,children:n.texts.title}),n.sections.map((function(e,t){return Object(ie.jsxs)("div",{className:a.section,children:[Object(ie.jsx)("img",{src:e.images.timelineImage.src,className:a.timelineImg}),Object(ie.jsxs)("div",{className:a.sectionTextDiv,children:[Object(ie.jsx)(z.a,{style:{color:n.colours.secondary},component:"h5",variant:"h5",children:e.texts.timelineDate}),Object(ie.jsx)(z.a,{style:{color:n.colours.secondary},component:"h5",variant:"h5",children:e.texts.timelineTitle})]})]})}))]})}}]),a}(r.Component);ca.templateName="Minimalist",ca.script=function(e){return""},ca.preview=sa,ca.info={fonts:{titleFont:{label:"title font"}},colours:{primary:{label:"primary"},secondary:{label:"secondary"}},images:{bg:{label:"Entry background",format:["image"]}},texts:{title:{label:"Timeline title"}},sections:{enabled:!0,defaultEntry:{images:{timelineImage:{src:"https://bit.ly/3c3wsNL",format:"image"}},texts:{timelineTitle:"New section",timelineDate:"2077"}},entryFormat:{images:{timelineImage:{label:"Event Image",format:["image"]}},texts:{timelineTitle:{label:"Event name"},timelineDate:{label:"Event date"}}}}},ca.defaultField={width:"100%",height:"fit-content",fonts:{titleFont:"roboto"},colours:{primary:"#d19a19",secondary:"#000000"},images:{bg:{src:"https://bit.ly/3i3I9I2",format:"image"}},texts:{title:"My past experiences"},sections:[{images:{timelineImage:{src:"https://bit.ly/3hXPM2R",format:"image"}},texts:{timelineTitle:"Portfolio Deployed on Github!",timelineDate:"2021"}},{images:{timelineImage:{src:"https://bit.ly/3c3wsNL",format:"image"}},texts:{timelineTitle:"Portfolio added to resume",timelineDate:"2021"}}]};var la=Object(q.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},std:{display:"block"},timelineImg:{borderRadius:"50%",height:"5vw",width:"5vw"},title:{margin:"5%"},section:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"left",textAlign:"left",width:"50%",margin:"1%"},sectionTextDiv:{marginLeft:"3%",display:"flex",flexDirection:"column"}}}))(ca),da=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.fields;return Object(ie.jsx)("div",{className:t.root,children:Object(ie.jsx)(Ke.a,{style:{textAlign:"center"},children:Object(ie.jsxs)(Ve.a,{children:[Object(ie.jsx)(z.a,{variant:"h1",component:"h2",style:{color:a.colours.primary,backgroundColor:a.colours.header,fontFamily:"".concat(a.fonts.titleFont,", Arial, Helvetica, sans-serif")},children:"About Me"}),Object(ie.jsx)(z.a,{variant:"h3",component:"h4",style:{color:a.colours.secondary,backgroundColor:"white",fontFamily:"".concat(a.fonts.bodyFont,", Arial, Helvetica, sans-serif")},children:a.texts.about})]})})})}}]),a}(r.Component);da.templateName="Minimalist",da.info={fonts:{titleFont:{label:"title font"},bodyFont:{label:"body font"}},colours:{primary:{label:"primary"},secondary:{label:"secondary"},header:{label:"header"}},images:{},texts:{about:{label:"Self Introduction"}},sections:{}},da.preview="https://bit.ly/3fwsFKX",da.script=function(e){return""},da.defaultField={width:"60%",height:"80vh",fonts:{titleFont:"title font",bodyFont:"body font"},colours:{primary:"#ffffff",secondary:"#d5d5d5",header:"#e30000"},images:{},texts:{about:"Me"},sections:[]};var ua=Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",padding:"1rem",alignItems:"center",width:"100%",height:"auto"}}}))(da),ha=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.call(this)}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.fields;return Object(ie.jsxs)("div",{className:a.root,style:(e={backgroundRepeat:!1,backgroundImage:'url("'.concat(n.images.bg.src,'")'),backgroundSize:"cover"},Object(b.a)(e,"backgroundRepeat","no-repeat"),Object(b.a)(e,"backgroundAttachment","fixed"),Object(b.a)(e,"width",n.width),Object(b.a)(e,"height",n.height),Object(b.a)(e,"display","flex"),Object(b.a)(e,"flexDirection","column"),Object(b.a)(e,"textAlign","center"),e),children:[Object(ie.jsx)(W.a,{}),Object(ie.jsxs)("div",{style:{padding:"5vh",paddingBlock:"10vh",backgroundColor:"#FFFFFF10",width:"100%",height:"100%",border:"solid 1px ".concat(n.colours.primary)},children:[Object(ie.jsx)(z.a,{component:"h1",variant:"h1",style:{color:n.colours.primary,fontFamily:"".concat(n.fonts.titleFont,", Arial, Helvetica, sans-serif")},children:n.texts.name}),Object(ie.jsx)(z.a,{component:"h2",variant:"h2",style:{color:n.colours.secondary,fontFamily:"".concat(n.fonts.titleFont,", Arial, Helvetica, sans-serif")},children:n.texts.status}),Object(ie.jsx)("div",{style:{display:"flex",flexDirection:"row",marginInline:"auto",width:"max-content",justifyContent:"center",alignItems:"center",height:"8vh",marginTop:"5vh"},children:n.sections.map((function(e,t){var n;if("icon"===e.images.socialIcon.format){var r=e.images.socialIcon.src.split("/");n=i[r[0]].icons[r[1]]}else n=function(t){return Object(ie.jsx)("img",{src:e.images.socialIcon.src})};return Object(ie.jsx)("div",{className:a.section,children:Object(ie.jsx)(J.a,{onClick:function(){return window.open(e.texts.socialLink)},className:a.socialButton,children:Object(ie.jsx)(n,{size:"100%",color:"red"})})})}))})]})]})}}]),a}(r.Component);ha.templateName="Redline",ha.script=function(e){return""},ha.info={fonts:{titleFont:{label:"title font"}},colours:{primary:{label:"primary"},secondary:{label:"secondary"}},images:{bg:{label:"Entry background",format:["image"]}},texts:{name:{label:"Your name"},status:{label:"Your current status"}},sections:{enabled:!0,defaultEntry:{images:{socialIcon:{src:"fa/FaGithub",format:"icon"}},texts:{socialLink:"https://github.com"}},entryFormat:{images:{socialIcon:{label:"Icon",format:["image","icon"]}},texts:{socialLink:{label:"Link"}}}}},ha.defaultField={width:"100%",height:"fit-content",fonts:{titleFont:"Roboto"},colours:{primary:"#dd0000",secondary:"#FFFFFF"},images:{bg:{src:"https://bit.ly/3gSDGpJ",format:"image"}},texts:{name:"Lorem Ipsum",status:"Developer"},sections:[{images:{socialIcon:{src:"fa/FaGithub",format:"icon"}},texts:{socialLink:"https://github.com"}}]};var pa=Object(q.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"15vh"},std:{display:"block"},title:{margin:"5%"},socialButton:{height:"3em",width:"3em",borderRadius:"50%",opacity:"60%",marginInline:"0.5vh","&:hover":{opacity:"80%",width:"3.5em",height:"3.5em",transition:"0.5s"}},socialIcon:{height:"5vh",width:"5vh",borderRadius:"50%"}}}))(ha),fa={introduction:[{name:oa.templateName,preview:oa.preview,component:function(e,t){return Object(ie.jsx)(oa,{fields:e,id:t})},script:oa.script,info:oa.info,defaultField:oa.defaultField},{name:pa.templateName,preview:pa.preview,component:function(e,t){return Object(ie.jsx)(pa,{fields:e,id:t})},script:pa.script,info:pa.info,defaultField:pa.defaultField}],about:[{name:ua.templateName,preview:ua.preview,component:function(e,t){return Object(ie.jsx)(ua,{fields:e,id:t})},script:ua.script,info:ua.info,defaultField:ua.defaultField}],timeline:[{name:la.templateName,preview:la.preview,component:function(e,t){return Object(ie.jsx)(la,{fields:e,id:t})},script:la.script,info:la.info,defaultField:la.defaultField}]},ma=a(92),ga=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={showSelector:!1,type:"introduction",style:0},n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.handleCloseSelector=n.handleCloseSelector.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"handleChange",value:function(e,t){this.setState({type:t})}},{key:"handleSelect",value:function(e){this.handleCloseSelector({type:this.state.type,style:e})}},{key:"handleCloseSelector",value:function(e){void 0!==e&&this.props.onClose(e),this.setState({showSelector:!1})}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(ot.a,{className:t.controlFAB,onClick:function(){return e.setState({showSelector:!0})},children:Object(ie.jsx)(Ze.FaPlus,{})}),Object(ie.jsx)(ut.a,{className:t.modal,open:this.state.showSelector,onClose:function(){return e.handleCloseSelector()},"aria-labelledby":"Template Selector","aria-describedby":"Select a template.",children:Object(ie.jsxs)("div",{className:t.root,children:[Object(ie.jsx)(ht.a,{value:this.state.type,onChange:this.handleChange,variant:"scrollable",scrollButtons:"auto",children:Object.keys(fa).map((function(e){return Object(ie.jsx)(pt.a,{label:e,value:e})}))}),Object(ie.jsx)("div",{className:t.cardDiv,children:fa[this.state.type].map((function(a,n){return Object(ie.jsx)(Ke.a,{className:t.card,children:Object(ie.jsxs)(ma.a,{focusRipple:!0,className:t.buttonBase,onClick:function(){return e.handleSelect(n)},name:n,children:[Object(ie.jsx)(Ye.a,{component:"img",alt:a.name,image:a.preview,title:a.name,className:t.cardMedia}),Object(ie.jsx)(Ve.a,{children:Object(ie.jsx)(z.a,{children:a.name})})]},n)})}))}),Object(ie.jsxs)(ot.a,{variant:"extended",onClick:function(){return e.handleCloseSelector()},className:t.fab,children:[Object(ie.jsx)(Ze.FaTimes,{}),"CANCEL"]})]})})]})}}]),a}(r.Component),ba={repopulate_state:C},ja=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn}}),ba)(Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2%",textAlign:"center",backgroundColor:e.palette.background.default,opacity:"85%",height:"100%",overflowX:"hidden",overflowY:"auto"},modal:{overflowX:"hidden",overflowY:"auto",display:"flex",flexDirection:"column",padding:"5vh",height:"100%"},buttonBase:{width:"100%",height:"100%",flexDirection:"column"},card:{width:345,minHeight:150,display:"flex",flexDirection:"column"},cardMedia:{maxHeight:200,overflow:"hidden"},fab:{marginTop:"auto",marginLeft:"auto"},cardDiv:{display:"grid",width:"100%",gridTemplateColumns:"repeat(auto-fill, 345px)",gridGap:"55px",justifyContent:"center",overflowY:"auto"},controlFAB:{position:"static",marginRight:"0.5vw",marginBottom:"0.5vw"}}}))(ga)),va=a(304),Oa=a(293),xa=a(230),ya=a(292),wa=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={finalizeDialogState:!1,overrideDialogState:!1,repositoryName:"",repositoryContent:[],anchorEl:null,publishLoading:!1,statusState:!1,publishError:!1,publishErrorMessage:"",pageUrl:"",pageCheckIntervalTask:null},n.handleOnChange=n.handleOnChange.bind(Object(f.a)(n)),n.handleFinalizeDialogOpen=n.handleFinalizeDialogOpen.bind(Object(f.a)(n)),n.handleFinalizeDialogClose=n.handleFinalizeDialogClose.bind(Object(f.a)(n)),n.handleOverrideDialogOpen=n.handleOverrideDialogOpen.bind(Object(f.a)(n)),n.handleOverrideDialogClose=n.handleOverrideDialogClose.bind(Object(f.a)(n)),n.handleFinalizeEdits=n.handleFinalizeEdits.bind(Object(f.a)(n)),n.handleOverrideAllowed=n.handleOverrideAllowed.bind(Object(f.a)(n)),n.handlePushToGithub=n.handlePushToGithub.bind(Object(f.a)(n)),n.handleCheckPageStatus=n.handleCheckPageStatus.bind(Object(f.a)(n)),n.handleStatusClose=n.handleStatusClose.bind(Object(f.a)(n)),n.handleCopyClipboard=n.handleCopyClipboard.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"handleOnChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleFinalizeDialogOpen",value:function(){var e=this.props.createPushables();console.log(e),this.setState({repositoryContent:e}),this.setState({anchorEl:null,finalizeDialogState:!0})}},{key:"handleFinalizeDialogClose",value:function(){this.setState({finalizeDialogState:!1})}},{key:"handleOverrideDialogOpen",value:function(){this.setState({overrideDialogState:!0})}},{key:"handleOverrideDialogClose",value:function(){this.setState({overrideDialogState:!1})}},{key:"handleOverrideAllowed",value:function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Override permission given to push to ".concat(this.state.repositoryName," and toggle pages for it")),this.handlePushToGithub(),this.setState({overrideDialogState:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePushToGithub",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("files are being pushed to ".concat(this.state.repositoryName)),this.setState({publishLoading:!0,publishError:!1,publishErrorMessage:"",statusState:!1,pageCheckIntervalTask:setInterval(this.handleCheckPageStatus,15e3)}),e.next=4,k()({method:"PUT",url:"https://resumate.xyz/api/portfolio/publishGithub",withCredentials:!0,data:{route:"",content:this.state.repositoryContent,repo:this.state.repositoryName}}).then((function(e){console.log(e.data.message)})).catch((function(e){H(e,t.props.history),t.setState({publishLoading:!1,publishError:!0,publishErrorMessage:"Failed to push files to Github",statusState:!0}),t.state.pageCheckIntervalTask&&window.clearInterval(t.state.pageCheckIntervalTask)}));case 4:this.setState({repositoryContent:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFinalizeEdits",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("chosen repository name is "+this.state.repositoryName),e.next=3,k()({method:"GET",url:"https://resumate.xyz/api/portfolio/checkExistingRepos",withCredentials:!0,params:{repo:this.state.repositoryName}}).then(function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.data.message),e.next=3,k()({method:"POST",url:"https://resumate.xyz/api/portfolio/createRepo",withCredentials:!0,data:{repo:t.state.repositoryName}}).then((function(e){console.log(e.data.message)})).catch((function(e){H(e,t.props.history)}));case 3:t.handlePushToGithub();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H(e,t.props.history),t.setState({overrideDialogState:!0})}));case 3:this.setState({finalizeDialogState:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleCheckPageStatus",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===this.state.repositoryName){e.next=3;break}return e.next=3,k()({method:"GET",url:"https://resumate.xyz/api/portfolio/pageStatus",withCredentials:!0,params:{repo:this.state.repositoryName}}).then((function(e){console.log(e.data.status),"built"!==e.data.status&&"errored"!==e.data.status||(t.state.pageCheckIntervalTask&&window.clearInterval(t.state.pageCheckIntervalTask),"built"===e.data.status?t.setState({publishLoading:!1,pageUrl:e.data.url,statusState:!0}):t.setState({publishLoading:!1,publishError:!0,publishErrorMessage:"Github page deployment failed",statusState:!0}))})).catch((function(e){H(e,t.props.history)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleStatusClose",value:function(e,t){"clickaway"!==t&&this.setState({publishLoading:!1,publishError:!1,publishErrorMessage:"",statusState:!1})}},{key:"handleCopyClipboard",value:function(){navigator.clipboard.writeText(this.state.pageUrl)}},{key:"render",value:function(){var e=this.props.classes;return Object(ie.jsxs)("div",{className:e.root,children:[Object(ie.jsx)(ot.a,{size:"large","aria-label":"publish panel","aria-controls":"simple-menu","aria-haspopup":"true",className:e.actionFAB,onClick:this.handleFinalizeDialogOpen,children:this.state.publishLoading?Object(ie.jsx)(ya.a,{color:"black",size:"2rem"}):Object(ie.jsx)(Ze.FaUpload,{})}),Object(ie.jsx)(va.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.statusState,onClose:this.handleStatusClose,TransitionComponent:function(e){return Object(ie.jsx)(xa.a,Object(j.a)(Object(j.a)({},e),{},{direction:"up"}))},children:Object(ie.jsx)(Oa.a,{className:e.snackbar,message:this.state.publishError?this.state.publishErrorMessage:this.state.pageUrl,action:Object(ie.jsxs)(o.a.Fragment,{children:[this.state.publishError?Object(ie.jsx)("div",{}):Object(ie.jsx)(V.a,{onClick:this.handleCopyClipboard,children:Object(ie.jsx)(Ze.FaRegCopy,{color:"white"})}),Object(ie.jsx)(V.a,{onClick:this.handleStatusClose,children:Object(ie.jsx)(Ze.FaTimes,{color:"white"})})]})})},"Github Page Status"),Object(ie.jsxs)(We.a,{open:this.state.finalizeDialogState,onClose:this.handleFinalizeDialogClose,"aria-labelledby":"repo name input",children:[Object(ie.jsx)(Je.a,{id:"repo name input",children:"Repository Name"}),Object(ie.jsxs)(He.a,{children:[Object(ie.jsx)(qe.a,{children:"Choose a Github repository name to save portfolio edits"}),Object(ie.jsx)(ze.a,{name:"repositoryName",autoFocus:!0,margin:"dense",label:"Repository Name",type:"string",defaultValue:this.state.repositoryName,fullWidth:!0,onChange:this.handleOnChange})]}),Object(ie.jsxs)(Ge.a,{children:[Object(ie.jsx)(V.a,{onClick:this.handleFinalizeDialogClose,children:"Cancel"}),Object(ie.jsx)(V.a,{onClick:this.handleFinalizeEdits,children:"Finalize"})]})]}),Object(ie.jsxs)(We.a,{open:this.state.overrideDialogState,onClose:this.handleOverrideDialogClose,"aria-labelledby":"override permission input",children:[Object(ie.jsx)(Je.a,{id:"override permission input",children:"Warning!"}),Object(ie.jsx)(He.a,{children:Object(ie.jsx)(qe.a,{children:"Repository already exists. This will override data in your existing repository and could lead to possible data loss! Do you still wish to continue?"})}),Object(ie.jsxs)(Ge.a,{children:[Object(ie.jsx)(V.a,{onClick:this.handleOverrideDialogClose,children:"Cancel"}),Object(ie.jsx)(V.a,{onClick:this.handleOverrideAllowed,children:"Allow Override"})]})]})]})}}]),a}(r.Component),Ca={repopulate_state:C},Sa=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn}}),Ca)(Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center"},actionFAB:{position:"static",marginRight:"0.5vw",marginBottom:"0.5vw",textAlign:"center"},textPrimaryColor:{color:e.palette.text.primary,"&.Mui-focused":{color:e.palette.text.primary}},snackbar:{backgroundColor:"#303030",color:"white"}}}))(wa)),ka=a(294),Na=a(307),Da=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={currentPage:n.props.dirTree,currentPath:[],showInput:!1,dirTree:n.props.dirTree,showDirectory:!1,dirName:"",inputMode:0,expanded:[]},n.handleSelectPage=n.handleSelectPage.bind(Object(f.a)(n)),n.renderTree=n.renderTree.bind(Object(f.a)(n)),n.handleChange=n.handleChange.bind(Object(f.a)(n)),n.handleDeletePage=n.handleDeletePage.bind(Object(f.a)(n)),n.handleRenameDirectory=n.handleRenameDirectory.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"handleSelectPage",value:function(e,t,a){e.preventDefault(),this.setState({currentPage:t,currentPath:a})}},{key:"renderTree",value:function(e,t,a,n){var i=this;return Object(ie.jsx)(Na.a,{value:t,nodeId:t,label:t,classes:{root:a.treeItem,selected:a.treeItemSelected,content:a.treeItemContent,group:a.treeItemGroup},onLabelClick:function(t){return i.handleSelectPage(t,e,n)},children:Object.entries(e.directories).map((function(e){var t=Object(nt.a)(e,2),r=t[0],o=t[1];return i.renderTree(o,r,a,[].concat(Object(it.a)(n),[r]))}))})}},{key:"getPage",value:function(e,t,a){if(a>=e.length){if(void 0===t)return;return t}return this.getPage(e,t.directories[e[a]],a+1)}},{key:"handleCreatePage",value:function(e){var t=JSON.parse(JSON.stringify(this.state.dirTree)),a=this.getPage(this.state.currentPath,t,0);console.log(this.state.currentPath),console.log(a),console.log(t);var n={directory:e,entries:[],directories:{},id:void 0};a.directories[e]=n,this.props.onUpdate(t),console.log(this.state),this.setState({dirTree:t,currentPage:a,showInput:!1})}},{key:"handleCloseDirectory",value:function(e){this.props.onClose(this.state.currentPage,this.state.currentPath),this.setState({showDirectory:!1})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleRenameDirectory",value:function(){var e=Object(it.a)(this.state.currentPath),t=e.pop(),a=JSON.parse(JSON.stringify(this.state.dirTree)),n=this.getPage(e,a,0);n.directories[this.state.dirName]=n.directories[t],delete n.directories[t],this.props.onUpdate(a),this.setState({dirTree:a,currentPath:[].concat(Object(it.a)(e),[this.state.dirName]),currentPage:n.directories[this.state.dirName],dirName:"",showInput:!1})}},{key:"handleDeletePage",value:function(){var e=JSON.parse(JSON.stringify(this.state.dirTree)),t=Object(it.a)(this.state.currentPath);t===[]&&alert("Root directory cannot be deleted.");var a=t.pop(),n=this.getPage(t,e,0),i=Object(j.a)({},n.directories);delete i[a],n.directories=i,this.props.onUpdate(e),console.log(t),this.setState({dirTree:e,currentPage:n,currentPath:t})}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(ot.a,{className:t.controlFAB,onClick:function(){return e.setState(Object(j.a)({showDirectory:!0,currentPage:e.props.dirTree,currentPath:[]},e.props.getState()))},children:Object(ie.jsx)(Ze.FaLink,{})}),Object(ie.jsx)(ut.a,{className:t.modal,open:this.state.showDirectory,onClose:function(){return e.handleCloseDirectory(!0)},"aria-labelledby":"Directory Manager","aria-describedby":"Select a page.",children:Object(ie.jsxs)("div",{className:t.root,children:[Object(ie.jsx)(ot.a,{variant:"extended",onClick:function(){e.handleCloseDirectory(!1)},children:Object(ie.jsx)(Ze.FaTimes,{})}),Object(ie.jsx)(ka.a,{defaultCollapseIcon:Object(ie.jsx)(Ze.FaTimes,{}),defaultExpandIcon:Object(ie.jsx)(Ze.FaSave,{}),expanded:this.state.expanded,onNodeToggle:function(t,a){return e.setState({expanded:a})},className:t.treeView,children:this.renderTree(this.state.dirTree,"root",t,[])}),Object(ie.jsx)(ze.a,{id:"dirName",label:"directory name",name:"dirName",value:this.state.dirName,margin:"normal",variant:"outlined",onChange:this.handleChange,className:this.state.showInput?t.textField:t.hide}),Object(ie.jsxs)(ot.a,{variant:"extended",onClick:function(t){return e.setState({showInput:!0,inputMode:1})},className:this.state.showInput&&1===this.state.inputMode?t.hide:t.controlFAB,children:[Object(ie.jsx)(Ze.FaPlus,{}),"New page"]}),Object(ie.jsxs)(ot.a,{variant:"extended",onClick:function(t){return e.setState({showInput:!0,inputMode:0})},className:this.state.showInput&&0===this.state.inputMode?t.hide:t.controlFAB,children:[Object(ie.jsx)(Ze.FaPlus,{}),"Rename page"]}),Object(ie.jsx)(ot.a,{variant:"extended",onClick:function(t){return e.handleCreatePage(e.state.dirName)},className:this.state.showInput&&1===this.state.inputMode?t.controlFAB:t.hide,children:"Create"}),Object(ie.jsx)(ot.a,{variant:"extended",onClick:function(t){return e.handleRenameDirectory(e.state.dirName)},className:this.state.showInput&&0===this.state.inputMode?t.controlFAB:t.hide,children:"Rename"}),Object(ie.jsx)(ot.a,{variant:"extended",onClick:this.handleDeletePage,children:"Delete page"})]})})]})}}]),a}(r.Component),Ia={repopulate_state:C},Pa=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn}}),Ia)(Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2%",textAlign:"center",backgroundColor:e.palette.background.default,opacity:"85%",height:"100%"},modal:{overflow:"scroll",display:"flex",flexDirection:"column",padding:"5%",height:"100%"},controlFAB:{position:"static",marginRight:"0.5vw",marginBottom:"0.5vw"},treeItem:{"&$treeItemSelected > $treeItemContent":{backgroundColor:e.palette.contrastPrimary.main}},treeItemSelected:{},treeItemExpanded:{},treeItemGroup:{marginLeft:7,paddingLeft:18,borderLeft:"1px dashed ".concat(e.palette.text.primary)},treeItemContent:{},treeView:{textAlign:"left"},textField:{},hide:{display:"none"}}}))(Da)),Fa=a(141),Ea=a.n(Fa),Ta=a(142),_a=a.n(Ta),La=a(31),Ra=a(152),Ba=Object(La.c)().setup(Object(j.a)(Object(j.a)({},Object(Ra.a)()),{},{Renderer:null})),Aa=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={editMode:!0,portfolio_id:void 0,name:"",pages:{directory:"root",entries:[],directories:{},id:"root_mongo_id"},currentPage:void 0,currentPath:[],isTimerExist:!1},n.state.currentPage=n.state.pages,n.handleEditorClose=n.handleEditorClose.bind(Object(f.a)(n)),n.handleCreateFile=n.handleCreateFile.bind(Object(f.a)(n)),n.handleProduction=n.handleProduction.bind(Object(f.a)(n)),n.handleSelector=n.handleSelector.bind(Object(f.a)(n)),n.handleUpdatePages=n.handleUpdatePages.bind(Object(f.a)(n)),n.handleDirectory=n.handleDirectory.bind(Object(f.a)(n)),n.handleSavePortfolio=n.handleSavePortfolio.bind(Object(f.a)(n)),n.handleUploadPreview=n.handleUploadPreview.bind(Object(f.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.loggedIn){e.next=12;break}return e.next=3,JSON.parse(window.localStorage.getItem("portfolioUser"));case 3:if(null===(t=e.sent)){e.next=12;break}return e.next=7,JSON.parse(window.localStorage.getItem("portfolioWork"));case 7:return a=e.sent,e.next=10,this.props.repopulate_state(t);case 10:return e.next=12,this.props.saveCurrentWork(a);case 12:this.props.loggedIn&&null!==this.props.currentPortfolio&&(this.setState({name:this.props.currentPortfolio.name}),void 0!==this.props.currentPortfolio._id&&void 0!==this.props.currentPortfolio.pages&&this.setState({portfolio_id:this.props.currentPortfolio._id,pages:this.props.currentPortfolio.pages,currentPage:this.props.currentPortfolio.pages}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=this;this.props.isUnsaved&&!this.state.isTimerExist&&(setTimeout(Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Autosaving"),t.next=3,e.handleSavePortfolio();case 3:e.props.toggleUnsavedWork(!1),e.setState({isTimerExist:!1});case 5:case"end":return t.stop()}}),t)}))),3e4),this.setState({isTimerExist:!0}))}},{key:"renderEntry",value:function(e,t){return fa[e.type][e.style].component(e,t)}},{key:"traverseDirectory",value:function(e,t){for(var a=e,n=0;n<t.length;n++)a=a.directories[t[n]];return a}},{key:"handleSelector",value:function(e){var t=e.type,a=e.style,n=JSON.parse(JSON.stringify(fa[t][a].defaultField)),i=Object(j.a)({type:t,style:a},n),r=Object(j.a)({},this.state.pages),o=this.traverseDirectory(r,this.state.currentPath);o.entries=[].concat(Object(it.a)(this.state.currentPage.entries),[i]),this.setState({pages:r,currentPage:o}),this.props.toggleUnsavedWork(!0)}},{key:"handleEditorClose",value:function(e,t,a){if(t){var n=Object(j.a)({},this.state.pages),i=Object(it.a)(this.state.currentPage.entries);i[a]=e;var r=this.traverseDirectory(n,this.state.currentPath);r.entries=i,this.setState({pages:n,currentPage:r}),this.props.toggleUnsavedWork(!0)}else this.forceUpdate()}},{key:"handleCreateFile",value:function(e,t){var a=this,n=e.entries;if(console.log(e),n===[])return[];console.log(e.directory);var i="".concat(t).concat("root"===e.directory?"":e.directory+"/"),r=[];console.log(n);for(var o=JSON.parse(JSON.stringify(n)),s=function(e){var t=o[e];Object.entries(t.images).map((function(t){var a=Object(nt.a)(t,2),n=a[0],s=a[1];if("image"===s.format&&s.src.startsWith("data:image/")){var c=s.src.split(","),l=c[0].substring(11,c[0].indexOf(";")),d=c[1];console.log(d);var u="assets/".concat(n).concat(e,".").concat(l);r.push({file:"".concat(i).concat(u),contents:d}),o[e].images[n]=u}}));for(var a=function(a){var n=t.sections[a];Object.entries(n.images).map((function(t){var n=Object(nt.a)(t,2),s=n[0],c=n[1];if("image"===c.format&&c.src.startsWith("data:image/")){var l=c.src.split(","),d=l[0].substring(11,l[0].indexOf(";")),u=l[1];u.length,u.split("=");console.log(u);var h="assets/".concat(s).concat(e,"_section").concat(a,".").concat(d);r.push({file:"".concat(i).concat(h),contents:u}),o[e].sections[a].images[s]=h}}))},n=0;n<t.sections.length;n++)a(n)},c=0;c<o.length;c++)s(c);var l=new dt.a({jss:Ba}),d=lt.a.renderToString(l.collect(Object(ie.jsx)(rt.a,{theme:De,children:Object(ie.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:o.map((function(e,t){return a.renderEntry(e)}))})}))),u=st.a.encode('\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="UTF-8">\n                <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                <meta http-equiv="X-UA-Compatible" content="ie=edge">\n                <link href="styles.css" rel="stylesheet">\n                <script defer src="script.js"><\/script>\n                <title>Welcome</title>\n            </head>\n            <body>\n            '.concat(d,"\n            </body>")),h=st.a.encode(l.toString()),p=st.a.encode(o.map((function(e,t){return fa[e.type][e.style].script(t)})).filter(Boolean).join("\n")),f=[].concat(r,[{file:"".concat(i,"scripts.js"),contents:p},{file:"".concat(i,"index.html"),contents:u},{file:"".concat(i,"styles.css"),contents:h}]);return e.directories!=={}&&Object.values(e.directories).map((function(e){console.log(e);var t=a.handleCreateFile(e,i);f=f.concat(t)})),console.log(f),f}},{key:"handleSavePortfolio",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("saving begins"),console.log(this.state.pages),e.next=4,k()({method:"PUT",url:"https://resumate.xyz/api/portfolio/upsert",withCredentials:!0,data:{user:{id:this.props.id,name:this.props.name,avatar:this.props.avatar_url,gravatar_id:this.props.gravatar_id},portfolio:{_id:this.state.portfolio_id,name:this.state.name,pages:this.state.pages}}}).then(function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.data.message),t.setState({portfolio_id:a.data._id}),e.next=4,k()({method:"GET",url:"https://resumate.xyz/api/portfolio/"+t.state.portfolio_id,withCredentials:!0}).then(function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("_id updated"),console.log(a.data.portfolio),t.props.saveCurrentWorkToLocal(a.data.portfolio),t.setState({pages:a.data.portfolio.pages}),console.log(t.state.pages),e.next=7,t.handleUploadPreview();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H(e,t.props.history),t.props.history.push("/dashboard")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H(e,t.props.history)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleProduction",value:function(){var e=this.handleCreateFile(this.state.pages,""),t=[];return e.map((function(e){t.push({fileName:e.file,fileContent:e.contents})})),t}},{key:"handleDeleteEntry",value:function(e){var t=Object(j.a)({},this.state.pages),a=this.traverseDirectory(t,this.state.currentPath);a.entries=this.state.currentPage.entries.filter((function(t,a){return a!==e})),this.setState({pages:t,currentPage:a}),this.props.toggleUnsavedWork(!0)}},{key:"handleUpdatePages",value:function(e){this.state.pages=e,this.state.currentPage=e,this.state.currentPath=[],this.props.toggleUnsavedWork(!0)}},{key:"handleDirectory",value:function(e,t){void 0!==e&&(this.state.currentPage=e,this.state.currentPath=t),this.forceUpdate()}},{key:"handleUploadPreview",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea()(document.querySelector("#preview"),{backgroundColor:null,useCORS:!0}).then((function(e){e.toBlob(function(){var e=Object(u.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new _a.a).append("file",new File([a],"".concat(t.state.name," preview"),{type:"image/png"})),n.append("label","preview"),e.next=5,k()({method:"GET",url:"https://resumate.xyz/api/portfolio/checkExistingImage/"+t.state.portfolio_id,withCredentials:!0,params:{label:"preview"}}).then(function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.data.isExist){e.next=6;break}return console.log("updating image"),e.next=4,k()({method:"PUT",url:"https://resumate.xyz/api/portfolio/updateImage/"+t.state.portfolio_id,withCredentials:!0,data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data.message)})).catch((function(e){H(e,t.props.history)}));case 4:e.next=9;break;case 6:return console.log("uploading image"),e.next=9,k()({method:"POST",url:"https://resumate.xyz/api/portfolio/uploadImage/"+t.state.portfolio_id,withCredentials:!0,data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data.message),console.log(e.data.refs)})).catch((function(e){H(e,t.props.history)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){H(e,t.props.history)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(ie.jsxs)("div",{className:t.root,children:[Object(ie.jsx)(Z.a,{when:this.props.isUnsaved,message:JSON.stringify({message:"Are you sure you want to leave? You have unsaved work.",portfolio:{_id:this.state.portfolio_id,name:this.state.name,pages:this.state.pages},user:{id:this.props.id,name:this.props.name,avatar:this.props.avatar_url,gravatar_id:this.props.gravatar_id}})}),Object(ie.jsx)("div",{id:"preview",children:this.state.currentPage.entries.map((function(a,n){return Object(ie.jsxs)("div",{className:t.entryEditorDiv,children:[Object(ie.jsx)(na,{fields:a,info:fa[a.type][a.style].info,onClose:function(t,a){e.handleEditorClose(t,a,n)}},"".concat(e.state.currentPath===[]?"root":e.state.currentPath[e.state.currentPath.length-1],"-").concat(n,"-").concat(a.type,"-").concat(a.style)),Object(ie.jsx)(ot.a,{"data-html2canvas-ignore":"true",className:t.delFAB,onClick:function(){return e.handleDeleteEntry(n)},children:Object(ie.jsx)(Ze.FaTrash,{})}),e.renderEntry(a)]})}))}),Object(ie.jsxs)("div",{className:t.staticDiv,children:[Object(ie.jsx)(ot.a,{className:t.controlFAB,onClick:function(){return console.log(e.handleSavePortfolio())},children:Object(ie.jsx)(Ze.FaSave,{})}),Object(ie.jsx)(ja,{onClose:this.handleSelector}),Object(ie.jsx)(Pa,{onClose:this.handleDirectory,getState:function(){return{dirTree:e.state.pages}},dirTree:this.state.pages,onUpdate:this.handleUpdatePages}),Object(ie.jsx)(Sa,{createPushables:this.handleProduction})]})]})}}]),a}(r.Component),Ua={repopulate_state:C,saveCurrentWork:T,saveCurrentWorkToLocal:_,toggleUnsavedWork:function(e){return{type:E,payload:{bool:e}}}},Ma=Object(v.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,avatar_url:e.login.avatar_url,gravatar_id:e.login.gravatar_id,currentPortfolio:e.portfolio.currentPortfolio,isUnsaved:e.portfolio.isUnsaved}}),Ua)(Object(q.a)((function(e){return{root:{display:"flex",flexDirection:"column"},entryDiv:{position:"relative"},delFAB:{position:"absolute",marginTop:"5vw",marginLeft:"2vw"},controlFAB:{position:"static",marginRight:"0.5vw",marginBottom:"0.5vw"},staticDiv:{position:"fixed",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",bottom:"5%",right:"5%",top:"auto",left:"auto"},entryEditorDiv:{display:"flex",flexDirection:"row"}}}))(Object(Z.h)(Aa))),za=function(e,t){var a=JSON.parse(e),n=document.createElement("div");n.setAttribute("custom-confirmation-navigation",""),document.body.appendChild(n);var i=function(){var e=Object(u.a)(d.a.mark((function e(i,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.a.unmountComponentAtNode(n),document.body.removeChild(n),!r){e.next=7;break}return e.next=5,k()({method:"PUT",url:"https://resumate.xyz/api/portfolio/upsert",withCredentials:!0,data:{user:a.user,portfolio:a.portfolio}}).then((function(e){console.log(e.data.message),t(!0)})).catch((function(e){e.response?console.log(e.response.data):console.log(e.message),console.log("failure to save, returning to portfolio to retry"),t(!1)}));case 5:e.next=8;break;case 7:t(i);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();c.a.render(Object(ie.jsxs)(We.a,{open:!0,"aria-labelledby":"prompt-dialog","aria-describedby":"prompt-dialog",fullWidth:!0,children:[Object(ie.jsx)(Je.a,{id:"promp-title",children:"Alert"}),Object(ie.jsxs)(He.a,{children:[Object(ie.jsx)(qe.a,{id:"prompt-text",children:a.message}),Object(ie.jsxs)(Ge.a,{children:[Object(ie.jsx)(V.a,{onClick:function(){return i(!1,!1)},children:"Cancel"}),Object(ie.jsx)(V.a,{onClick:function(){return i(!0,!1)},children:"Discard unsaved work"}),Object(ie.jsx)(V.a,{onClick:function(){return i(!0,!0)},children:"Save work"})]})]})]}),n)},Wa=a(75),Ga=a(63),Ha=a(143),qa="Guest",Ja={loggedIn:!1,name:qa,id:"",avatar_url:"",gravatar_id:"",error:null},Ka="";var Va={portfolios:[],loading:!1,error:null,currentPortfolio:null,isUnsaved:!1};var Ya=Object(Wa.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),{},{name:t.payload.name,id:t.payload.id,avatar_url:t.payload.avatar_url,gravatar_id:t.payload.gravatar_id,loggedIn:!0});case x:return Object(j.a)(Object(j.a)({},e),{},{name:qa,id:Ka,avatar_url:Ka,gravatar_id:Ka,loggedIn:!1});case y:return Object(j.a)(Object(j.a)({},e),{},{loggedIn:t.payload.loggedIn,name:t.payload.name,id:t.payload.id,avatar_url:t.payload.avatar_url,gravatar_id:t.payload.gravatar_id});default:return e}},portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case D:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,portfolios:t.payload.portfolios});case I:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,portfolios:[],currentPortfolio:null,error:t.payload.err});case P:return Object(j.a)(Object(j.a)({},e),{},{currentPortfolio:t.payload.curr});case F:return Object(j.a)(Object(j.a)({},e),{},{currentPortfolio:null});case E:return Object(j.a)(Object(j.a)({},e),{},{isUnsaved:t.payload.bool});default:return e}}}),Xa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,308)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),r(e),o(e)}))},$a=Object(Wa.c)(Ya,Object(Wa.a)(Ha.a));c.a.render(Object(ie.jsx)(o.a.StrictMode,{children:Object(ie.jsx)(rt.a,{theme:De,children:Object(ie.jsx)(Ga.a,{getUserConfirmation:function(e,t){return za(e,t)},children:Object(ie.jsx)(v.a,{store:$a,children:Object(ie.jsxs)(Z.e,{children:[Object(ie.jsx)(Z.c,{exact:!0,path:"/",component:_e}),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(se,{}),Object(ie.jsx)(Z.c,{exact:!0,path:"/login/callback",component:Ae}),Object(ie.jsx)(Z.c,{exact:!0,path:"/dashboard",component:at}),Object(ie.jsx)(Z.c,{exact:!0,path:"/edit",component:Ma}),Object(ie.jsx)(Z.c,{exact:!0,path:"/publish",component:Sa})]})]})})})})}),document.getElementById("root")),Xa();var Qa=t.default=$a}},[[227,1,2]]]);
//# sourceMappingURL=main.4e6bf305.chunk.js.map