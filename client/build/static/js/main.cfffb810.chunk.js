(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=n(25),s=n(26),l=n(39),d=n(28),u=n(27),g=n(46),h=n(32),p=n(21),j="LOG_IN_USER",b="LOG_OUT_USER",O=(n(90),n(34)),m=n.n(O),v=n(168),f=n(169),x=n(171),_=n(165),w=n(6),y=n(170),k=n(172),C=n(176),I=n(174),S=n(175),B=n(4),F=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).handleLogout=e.handleLogout.bind(Object(l.a)(e)),e.handleUserMenu=e.handleUserMenu.bind(Object(l.a)(e)),e.state={menu_open:!1,user_drawer_open:!1},e}return Object(s.a)(n,[{key:"handleLogout",value:function(){console.log("logging out"),this.props.dispatch({type:b}),m()({method:"GET",url:"http://13.213.84.140:5000/logout",withCredentials:!0}).then((function(e){window.location.pathname="/"})).catch((function(e){console.log(e.message)}))}},{key:"handleUserMenu",value:function(){console.log(this.state.user_drawer_open),this.setState({user_drawer_open:!this.state.user_drawer_open})}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,n=e.name,a=(e.id,e.avatar_url),r=(e.gravatar_url,e.error);if(r)return Object(B.jsxs)("div",{children:["Error! ",r.message]});var o=this.props.classes;return Object(B.jsxs)("div",{className:o.root,children:[Object(B.jsx)(_.a,{}),Object(B.jsx)(v.a,{position:"absolute",className:this.state.user_drawer_open?"".concat(o.appBar," ").concat(o.appBarShift):o.appBar,children:Object(B.jsxs)(f.a,{className:o.toolbar,children:[Object(B.jsx)(y.a,{}),Object(B.jsx)(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:o.title,children:"Portfol.io"}),Object(B.jsx)(k.a,{startIcon:Object(B.jsx)(C.a,{src:a}),onClick:this.handleUserMenu,hidden:t,className:t&&!this.state.user_drawer_open?"":o.hide,children:n})]})}),Object(B.jsx)(I.a,{variant:"temporary",anchor:"right",onBackdropClick:this.handleUserMenu,classes:{paper:this.state.user_drawer_open?o.drawerPaper:"".concat(o.drawerPaper," ").concat(o.drawerPaperClose)},open:this.state.user_drawer_open,children:Object(B.jsx)("div",{className:o.toolbarIcon,children:Object(B.jsxs)("div",{className:o.drawerDiv,children:[Object(B.jsx)(S.a,{xsDown:!0,children:Object(B.jsx)(C.a,{src:a,className:o.expandedAvatar})}),Object(B.jsx)(x.a,{children:n}),Object(B.jsx)(k.a,{onClick:this.handleLogout,color:"error",children:"LOGOUT"})]})})})]})}}]),n}(a.Component),N=Object(p.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,avatar_url:e.login.avatar_url,gravatar_url:e.login.gravatar_url,error:e.login.error}}))(Object(w.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginRight:300,width:"calc(100% - ".concat(300,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerDiv:{display:"block",justifyContent:"center",margin:"auto",textAlign:"center"},drawerPaper:{whiteSpace:"nowrap",width:300,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(g.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(0)},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},hide:{display:"none"},expandedAvatar:{height:e.spacing(20),width:e.spacing(20)}}}))(F)),L=(n(44),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){this.props.loggedIn;return Object(B.jsx)("div",{className:"login-container",children:Object(B.jsx)("a",{href:"https://github.com/login/oauth/authorize?scope=repo&client_id=bf49667be5e3dbba0f25",className:"button",children:"Login with github"})})}}]),n}(a.Component)),T=Object(p.b)((function(e){return{loggedIn:e.login.loggedIn}}))(L),P=n(13),U=n(73),E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={ghCode:"",isToken:!1},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=window.location.search,n=new URLSearchParams(t).get("code");this.setState({ghCode:n});""!==n?m()({method:"POST",url:"".concat("http://13.213.84.140:5000","/login/authenticate"),withCredentials:!0,responseType:"json",data:{code:n}}).then((function(t){console.log("POST response: "),console.log(t),e.props.log_in_user(t.data)})).then(this.setState({isToken:!0})).catch((function(e){console.log(e.message)})):console.log("gh code missing")}},{key:"render",value:function(){return this.state.isToken?Object(B.jsx)(P.a,{to:"/dashboard"}):Object(B.jsx)("div",{className:"login-container",children:Object(B.jsx)(U.BeatLoader,{})})}}]),n}(a.Component),G={log_in_user:function(e){return{type:j,payload:Object(h.a)({},e)}}},M=Object(p.b)((function(e){return{}}),G)(E),R=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"checkCookie",value:function(e){console.log("testing cookie"),m()({method:"GET",url:"http://13.213.84.140:5000/portfolio/status",withCredentials:!0}).then((function(e){console.log("authorized"),console.log(e.data)}))}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,n=e.name;e.id,e.avatar_url,e.gravatar_url,e.error;return Object(B.jsxs)("div",{className:"login-container",children:[Object(B.jsxs)("p",{children:["Here is your homepage ",n,"! You are loggedIn ",t.toString()]}),Object(B.jsx)("button",{onClick:this.checkCookie,children:"check cookie"})]})}}]),n}(a.Component),D=Object(p.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,avatar_url:e.login.avatar_url,gravatar_url:e.login.gravatar_url,error:e.login.error}}))(R),z=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"tologin",value:function(){window.location.pathname="/login"}},{key:"render",value:function(){return Object(B.jsx)("div",{className:"login-container",children:Object(B.jsx)("button",{onClick:this.tologin,children:"to Login"})})}}]),n}(a.Component),A=Object(p.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,avatar_url:e.login.avatar_url,gravatar_url:e.login.gravatar_url,error:e.login.error}}))(z),H=n(42),J=n(54),W=n(74),X="Guest",Y={loggedIn:!1,name:X,id:"",avatar_url:"",gravatar_url:"",error:null},q="";var K=Object(H.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(h.a)(Object(h.a)({},e),{},{loggedIn:!0,name:t.payload.name,id:t.payload.id,avatar_url:t.payload.avatar_url,gravatar_url:t.payload.gravatar_url});case b:return Object(h.a)(Object(h.a)({},e),{},{loggedIn:!1,name:X,id:q,avatar_url:q,gravatar_url:q});default:return e}}}),Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))},V=n(75),Z=Object(V.a)({palette:{type:"dark",primary:{light:"#98F9FF",main:"#98E0FF",dark:"#0012C4"},secondary:{light:"#E0B0FE",main:"#B033FF",dark:"#4E0080"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(0, 0, 0, 0.87)"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto"].join(",")}}),$=n(173),ee=Object(H.c)(K,Object(H.a)(W.a));i.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)($.a,{theme:Z,children:Object(B.jsx)(J.a,{children:Object(B.jsxs)(p.a,{store:ee,children:[Object(B.jsx)(N,{}),Object(B.jsxs)(P.d,{children:[Object(B.jsx)(P.b,{exact:!0,path:"/",component:A}),Object(B.jsx)(P.b,{exact:!0,path:"/login",component:T}),Object(B.jsx)(P.b,{exact:!0,path:"/login/callback",component:M}),Object(B.jsx)(P.b,{exact:!0,path:"/dashboard",component:D})]})]})})})}),document.getElementById("root")),Q()},44:function(e,t,n){},90:function(e,t,n){}},[[139,1,2]]]);
//# sourceMappingURL=main.cfffb810.chunk.js.map