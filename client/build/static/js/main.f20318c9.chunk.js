(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{178:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(11),r=a.n(o),s=a(20),l=a(21),c=a(9),d=a(24),h=a(23),u=a(13),p=a(12),g=a(28),b="LOG_IN_USER",j="LOG_OUT_USER",f="REPOPULATE_STATE",m=function(e){return{type:f,payload:Object(p.a)({},e)}},O=a(29),v=a.n(O),x=a(226),y=a(227),C=a(112),w=a(222),k=a(231),S=a(6),_=a(228),D=a(229),N=a(244),E=a(245),F=a(243),I=a(230),T=a(2),P=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleLogout=e.handleLogout.bind(Object(c.a)(e)),e.handleUserMenu=e.handleUserMenu.bind(Object(c.a)(e)),e.state={menu_open:!1,user_drawer_open:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"handleLogout",value:function(){console.log("logging out"),this.props.log_out_user(),localStorage.removeItem("portfolioUser"),console.log("successfully cleared localStorage"),v()({method:"GET",url:"http://54.169.10.179:5000/logout",withCredentials:!0}).then((function(e){window.location.pathname="/"})).catch((function(e){console.log(e.message)}))}},{key:"handleUserMenu",value:function(){console.log(this.state.user_drawer_open),this.setState({user_drawer_open:!this.state.user_drawer_open})}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.name,n=(e.id,e.avatar_url),i=(e.gravatar_id,e.error);if(i)return Object(T.jsxs)("div",{children:["Error! ",i.message]});var o=this.props.classes;return Object(T.jsxs)("div",{className:o.root,children:[Object(T.jsx)(w.a,{}),Object(T.jsx)(x.a,{position:"absolute",className:this.state.user_drawer_open?"".concat(o.appBar," ").concat(o.appBarShift):o.appBar,children:Object(T.jsxs)(y.a,{className:o.toolbar,children:[Object(T.jsx)(_.a,{className:o.homeButton,children:Object(T.jsx)(C.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:o.title,children:"Portfol.io"})}),Object(T.jsx)(D.a,{startIcon:Object(T.jsx)(N.a,{src:n}),onClick:this.handleUserMenu,className:t&&!this.state.user_drawer_open?"":o.hide,children:a})]})}),Object(T.jsx)(E.a,{variant:"temporary",anchor:"right",onBackdropClick:this.handleUserMenu,classes:{paper:this.state.user_drawer_open?o.drawerPaper:"".concat(o.drawerPaper," ").concat(o.drawerPaperClose)},open:this.state.user_drawer_open,children:Object(T.jsxs)("div",{className:o.drawerDiv,children:[Object(T.jsx)(F.a,{xsDown:!0,children:Object(T.jsx)(N.a,{src:n,className:o.expandedAvatar})}),Object(T.jsx)(C.a,{variant:"h4",className:o.title,children:a}),Object(T.jsx)(I.a,{}),Object(T.jsxs)(k.a,{className:o.flexDown,children:[Object(T.jsx)(D.a,{color:"primary",fullWidth:!0,children:"PLACEHOLDER"}),Object(T.jsx)(D.a,{onClick:this.handleLogout,fullWidth:!0,color:"secondary",children:"LOGOUT"})]})]})})]})}}]),a}(n.Component),A={log_out_user:function(){return{type:j}},repopulate_state:m},R=Object(g.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,avatar_url:e.login.avatar_url,gravatar_id:e.login.gravatar_id,error:e.login.error}}),A)(Object(S.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginRight:e.spacing(30),width:"calc(100% - ".concat(e.spacing(30),")"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},homeButton:{marginRight:"auto"},homeButtonHidden:{display:"none"},title:{flexGrow:1},drawerDiv:{display:"block",justifyContent:"center",textAlign:"center",height:"100vh"},drawerPaper:{whiteSpace:"nowrap",width:e.spacing(30),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(u.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(0)},e.breakpoints.up("sm"),{width:e.spacing(0)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},hide:{display:"none"},expandedAvatar:{marginTop:e.spacing(5),height:e.spacing(20),width:e.spacing(20),marginLeft:"auto",marginRight:"auto"},maxWidthButton:{width:"100%",borderRadius:"0px"},maxHeight:{height:"100%"},flexDown:{display:"flex",flexDirection:"column"}}}))(P)),B=a(39),U=a(62),z=a(181),L=a(107),M=Object(L.a)({palette:{type:"dark",primary:{light:"#FF0000",main:"#88FF00",dark:"#330088"},secondary:{light:"#00FF00",main:"#0088FF",dark:"#553300"},text:{primary:"rgba(255, 255, 255, 0.87)",secondary:"rgba(0, 0, 0, 0.87)"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto"].join(",")}}),G=["https://media.edutopia.org/styles/responsive_2000px_original/s3/masters/d7_images/cover_media/robinson-169hero-portfolio-shutterstock.jpg","https://assets-global.website-files.com/6009ec8cda7f305645c9d91b/603823eca4b46344229b30f8_portfolio_course.png","https://cdn-japantimes.com/wp-content/uploads/2020/06/np_file_16250.jpeg"],W=["Your Design. Your Website.","Visualize your personality","Stay Ahead"],H=["No watermarks, no restrictions \u2014 you own your website","Choose your style","Stay Relevant"],J=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleFeatureClick=e.handleFeatureClick.bind(Object(c.a)(e)),e.handleFeatureNext=e.handleFeatureNext.bind(Object(c.a)(e)),e.handleFeaturePrev=e.handleFeaturePrev.bind(Object(c.a)(e)),e.state={featureIndex:0,featureText:H[0],featureTitle:W[0],featureImage:G[0]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"handleFeatureClick",value:function(e){this.setState({featureIndex:e,featureTitle:W[e],featureText:H[e],featureImage:G[e]})}},{key:"handleFeatureNext",value:function(){var e=2===this.state.featureIndex?0:this.state.featureIndex+1;this.handleFeatureClick(e)}},{key:"handleFeaturePrev",value:function(){var e=0===this.state.featureIndex?2:this.state.featureIndex-1;this.handleFeatureClick(e)}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.classes;return Object(T.jsxs)("div",{className:a.root,children:[Object(T.jsx)(w.a,{}),Object(T.jsxs)("div",{className:"".concat(a.welcomeDiv," ").concat(a.centeredDiv),children:[Object(T.jsx)("img",{src:"https://blog.corp-site.envato.com/cdn-cgi/image/width=1200,quality=95,format=auto/uploads/2020/06/SOC101_Portfolio_Guide.png",className:a.portfolioIcon,alt:"Portfol.io icon"}),Object(T.jsx)(C.a,{component:"h1",variant:"h2",color:"inherit",noWrap:!0,className:a.title,children:"Welcome to Portfol.io"}),Object(T.jsx)(C.a,{component:"h1",variant:"h6",color:"inherit",className:a.multiline,children:"Where dreams\nturn\ninto reality"}),t?Object(T.jsx)(U.b,{to:"/dashboard",children:"You're logged in already! Lets go to dashboard"}):Object(T.jsx)(D.a,{href:"https://github.com/login/oauth/authorize?scope=repo&client_id=bf49667be5e3dbba0f25",color:"primary",variant:"contained",children:"Login with Github"})]}),Object(T.jsxs)("div",{className:"".concat(a.featuresDiv," ").concat(a.centeredDiv),children:[Object(T.jsx)(D.a,{onClick:this.handleFeaturePrev,className:"".concat(a.floating," ").concat(a.featureButtonLeft),children:Object(T.jsx)(B.a,{})}),Object(T.jsx)("div",{className:a.featureImgDiv,children:Object(T.jsx)("img",{src:this.state.featureImage,className:a.fullSize,alt:"feature ".concat(this.state.featureSection)})}),Object(T.jsxs)("div",{className:"".concat(a.featureTextDiv," ").concat(a.centeredDiv),children:[Object(T.jsx)(C.a,{component:"h2",variant:"h2",color:"inherit",noWrap:!0,className:a.title,children:this.state.featureTitle}),Object(T.jsx)(C.a,{component:"h6",variant:"h6",color:"inherit",noWrap:!0,className:a.title,children:this.state.featureText})]}),Object(T.jsx)(D.a,{onClick:this.handleFeatureNext,className:"".concat(a.floating," ").concat(a.featureButtonRight),children:Object(T.jsx)(B.b,{})})]}),Object(T.jsx)("div",{className:"".concat(a.faqDiv," ").concat(a.centeredDiv),children:Object(T.jsx)(k.a,{children:Object(T.jsx)(z.a,{})})})]})}}]),a}(n.Component),K={repopulate_state:m},Y=Object(g.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,id:e.login.id,avatar_url:e.login.avatar_url,gravatar_id:e.login.gravatar_id,error:e.login.error}}),K)(Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},centeredDiv:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},welcomeDiv:{width:"100%",height:"100vh",backgroundImage:'url("'.concat("https://miro.medium.com/max/1100/1*OlgqUIhvl5-9dZISlZ2-yQ.jpeg",'")'),backgroundRepeat:"no-repeat",backgroundSize:"cover"},welcomeText:{flexGrow:1},multiline:{whiteSpace:"pre-line"},portfolioIcon:{width:"40vh",height:"40vh",borderRadius:"20vh"},featuresDiv:{position:"relative",width:"100%",height:"60vh",flexDirection:"row"},featureTextDiv:{position:"absolute",top:0,right:0,width:"55vw",height:"100%",padding:"10%"},featureImgDiv:{position:"absolute",top:0,left:0,width:"45vw",height:"100%"},fullSize:{width:"100%",height:"100%"},floating:{zIndex:1},featureButtonLeft:{height:"100%",position:"absolute",left:0},featureButtonRight:{height:"100%",position:"absolute",right:0}}}))(J)),V=a(19),q=a(47),X=a(104),Z=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(!this.props.loggedIn){var t=JSON.parse(window.localStorage.getItem("portfolioUser"));if(null==t){var a=window.location.search,n=new URLSearchParams(a).get("code");""!==n?v()({method:"POST",url:"".concat("http://54.169.10.179:5000","/login/authenticate"),withCredentials:!0,responseType:"json",data:{code:n}}).then((function(e){return e.data})).then((function(t){var a={loggedIn:!0,name:t.name,id:t.id,avatar_url:t.avatar_url,gravatar_id:t.gravatar_id};window.localStorage.setItem("portfolioUser",JSON.stringify(a)),e.props.fetchPortfolios(t.id),e.props.log_in_user(t)})).catch((function(e){console.log(e.message)})):console.log("gh code missing")}else this.props.repopulate_state(t)}}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.classes;return t?Object(T.jsx)(V.a,{to:"/dashboard"}):Object(T.jsxs)("div",{className:a.root,children:[Object(T.jsx)("div",{className:a.appBarSpacer}),Object(T.jsx)(X.BeatLoader,{})]})}}]),a}(n.Component),Q={log_in_user:function(e){return{type:b,payload:Object(p.a)({},e)}},repopulate_state:m,fetchPortfolios:q.f},$=Object(g.b)((function(e){return{loggedIn:e.login.loggedIn}}),Q)(Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center"},appBarSpacer:e.mixins.toolbar}}))(Z)),ee=a(232),te=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"checkCookie",value:function(e){console.log("testing cookie"),v()({method:"GET",url:"http://54.169.10.179:5000/portfolio/status",withCredentials:!0}).then((function(e){console.log("authorized"),console.log(e.data)}))}},{key:"testPublish",value:function(){window.location.pathname="/publish"}},{key:"render",value:function(){var e=this.props,t=(e.loggedIn,e.name),a=e.portfolios,n=e.classes;return Object(T.jsxs)("div",{className:n.root,children:[Object(T.jsx)("div",{className:n.appBarSpacer}),Object(T.jsxs)(C.a,{variant:"h2",component:"h3",children:["Here is your dashboard ",t,"!"]}),Object(T.jsxs)(ee.a,{className:n.gridHorizontal,children:[a.map((function(e,t){return Object(T.jsx)(D.a,{className:n.portfolioButton,children:e.title},t)})),Object(T.jsx)(D.a,{onClick:this.openTemplateEditor,className:n.portfolioButton,children:"Add a Portfolio"})]}),Object(T.jsx)(D.a,{onClick:this.checkCookie,className:n.portfolioButton,children:"Check Cookie"}),Object(T.jsx)(D.a,{onClick:this.testPublish,className:n.portfolioButton,children:"Test Publish Panel"})]})}}]),a}(n.Component),ae={repopulate_state:m},ne=Object(g.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name,portfolios:e.portfolios.portfolios}}),ae)(Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center"},gridHorizontal:{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},portfolioButton:{margin:e.spacing(1),variant:"contained",size:"large",color:"primary"},appBarSpacer:e.mixins.toolbar}}))(te)),ie=a(59),oe=a(40),re=a(234),se=a(60),le=a(105),ce=a.n(le),de=a(233),he=a(53),ue=a(183),pe=a(242),ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=Object(p.a)({},n.props.fields),n.handleCreateEntry=n.handleCreateEntry.bind(Object(c.a)(n)),n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleImageUpload=n.handleImageUpload.bind(Object(c.a)(n)),n.handleEditSectionText=n.handleEditSectionText.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"handleChange",value:function(e,t){if(""===t)this.setState(Object(u.a)({},e.target.name,e.target.value));else{var a=Object(p.a)({},this.state[t]);a[e.target.name]=e.target.value,this.setState(Object(u.a)({},t,a))}}},{key:"handleImageUpload",value:function(e){this.setState(Object(u.a)({},e.target.name,""))}},{key:"handleDeleteSection",value:function(e,t){var a=this.state.sections.filter((function(e,a){return a!==t}));this.setState({sections:a})}},{key:"handleCreateEntry",value:function(){var e=JSON.parse(JSON.stringify(this.props.info.sections.defaultEntry));this.setState({sections:[].concat(Object(oe.a)(this.state.sections),[e])})}},{key:"handleEditSectionText",value:function(e,t){var a=Object(oe.a)(this.state.sections);a[t].texts[e.target.name]=e.target.value,this.setState({sections:a})}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(T.jsx)(ue.a,{className:t.modal,open:!0,onClose:function(){return e.props.onClose(e.state,!0)},"aria-labelledby":"Entry editor","aria-describedby":"Edit your entry fields here",children:Object(T.jsxs)("div",{className:t.root,children:[Object(T.jsx)(C.a,{component:"h3",variant:"h3",children:"Entry editor"}),Object(T.jsxs)("div",{className:t.sectionDiv,children:[Object(T.jsxs)("div",{className:t.categoryDiv,children:[Object(T.jsx)(pe.a,{id:"width",label:"width",name:"width",value:this.state.width,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"")}}),Object(T.jsx)(pe.a,{id:"height",label:"height",name:"height",value:this.state.height,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"")}})]}),Object(T.jsx)("div",{className:t.categoryDiv,children:Object.entries(this.state.fonts).map((function(t){var a=Object(he.a)(t,2),n=a[0],i=a[1];return Object(T.jsx)(pe.a,{name:n,id:n,label:e.props.info.fonts[n].label,value:i,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"fonts")}})}))}),Object(T.jsx)("div",{className:t.categoryDiv,children:Object.entries(this.state.colours).map((function(t){var a=Object(he.a)(t,2),n=a[0],i=a[1];return Object(T.jsx)("div",{children:Object(T.jsx)(pe.a,{name:n,id:n,label:e.props.info.colours[n].label,value:i,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"colours")}})})}))})]}),Object(T.jsxs)("div",{className:t.sectionDiv,children:[Object(T.jsx)("div",{className:t.categoryDiv,children:Object.entries(this.state.images).map((function(a){var n=Object(he.a)(a,2),i=n[0],o=n[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(D.a,{onClick:e.handleImageUpload,children:Object(T.jsx)("img",{src:o,className:t.imgPreview})}),Object(T.jsx)(C.a,{children:e.props.info.images[i].label})]})}))}),Object(T.jsx)("div",{className:t.categoryDiv,children:Object.entries(this.state.texts).map((function(t){var a=Object(he.a)(t,2),n=a[0],i=a[1];return Object(T.jsx)("div",{children:Object(T.jsx)(pe.a,{name:n,id:n,label:e.props.info.texts[n].label,value:i,margin:"normal",variant:"outlined",onChange:function(t){return e.handleChange(t,"texts")}})})}))})]}),this.props.info.sections.enabled?Object(T.jsxs)("div",{className:t.entryDiv,children:[this.state.sections.map((function(a,n){return Object(T.jsxs)("div",{children:[Object(T.jsx)(_.a,{onClick:function(t){return e.handleDeleteSection(t,n)},children:Object(T.jsx)(B.f,{})}),Object(T.jsx)("div",{className:t.imgDiv,children:Object.entries(a.images).map((function(a){var n=Object(he.a)(a,2),i=n[0],o=n[1];return Object(T.jsxs)("div",{children:[Object(T.jsx)(D.a,{onClick:e.handleImageUpload,children:Object(T.jsx)("img",{src:o,className:t.imgPreview})}),Object(T.jsx)(C.a,{children:e.props.info.sections.entryFormat.images[i].label})]})}))}),Object(T.jsx)("div",{className:t.textDiv,children:Object.entries(a.texts).map((function(t){var a=Object(he.a)(t,2),i=a[0],o=a[1];return console.log(o),Object(T.jsx)("div",{children:Object(T.jsx)(pe.a,{name:i,id:i,label:e.props.info.sections.entryFormat.texts[i].label,value:o,margin:"normal",variant:"outlined",onChange:function(t){return e.handleEditSectionText(t,n)},multiline:!0,rowsMax:3})})}))})]})})),Object(T.jsx)(_.a,{onClick:this.handleCreateEntry,children:Object(T.jsx)(B.d,{})})]}):null]})})}}]),a}(n.Component),be=Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"5%",textAlign:"center",backgroundColor:"#444444",opacity:"90%"},modal:{overflow:"scroll",display:"flex",flexDirection:"column",padding:"5%"},floating:{margin:0,top:"auto",left:"auto",bottom:"8%",right:"5%",position:"fixed",textAlign:"center"},categoryDiv:{margin:"1vw"},imgPreview:{width:"5vw",height:"5vw"},sectionDiv:{display:"flex",flexDirection:"row"},div:{padding:"10px"}}}))(ge),je=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.fields;return Object(T.jsxs)("div",{className:a.root,style:(e={backgroundRepeat:!1,backgroundImage:'url("'.concat(n.images.bg,'")'),backgroundSize:"cover"},Object(u.a)(e,"backgroundRepeat","no-repeat"),Object(u.a)(e,"width",n.width),Object(u.a)(e,"height",n.height),Object(u.a)(e,"minHeight","1000px"),Object(u.a)(e,"display","flex"),Object(u.a)(e,"flexDirection","row"),e),children:[Object(T.jsx)(w.a,{}),Object(T.jsxs)("div",{style:{marginLeft:"auto",marginRight:"10%"},children:[Object(T.jsx)(C.a,{component:"h2",variant:"h2",style:{color:n.colours.secondary,fontFamily:"Arial, Helvetica, sans-serif"},children:"Hello! my name is"}),Object(T.jsx)(C.a,{component:"h1",variant:"h1",style:{color:n.colours.primary,fontFamily:"".concat(n.fonts.titleFont,", Arial, Helvetica, sans-serif")},children:n.texts.name}),Object(T.jsx)(C.a,{component:"h1",variant:"h1",style:{color:n.colours.secondary,fontFamily:"Arial, Helvetica, sans-serif"},children:n.texts.status})]}),Object(T.jsx)("img",{src:n.images.dp,alt:"my portrait",style:{height:"100%",width:"auto",marginRight:"auto"}})]})}}]),a}(n.Component);je.templateName="Minimalist",je.info={fonts:{titleFont:{label:"title font"}},colours:{primary:{label:"primary"},secondary:{label:"secondary"}},images:{dp:{label:"Your portrait photo",allowColour:!1},bg:{label:"Entry background",allowColour:!0}},texts:{name:{label:"Your full name"},status:{label:"your current position"}},sections:{}},je.defaultField={width:"100%",height:"80vh",fonts:{titleFont:"title font"},colours:{primary:"#f2d38a",secondary:"#fff8e8"},images:{dp:"https://bit.ly/3fRv2Y2",bg:"https://bit.ly/3ut83ry"},texts:{name:"Jane Doe",status:"Web developer"},sections:[]};var fe=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},std:{display:"block"}}}))(je),me=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.call(this)}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.fields;return Object(T.jsxs)("div",{className:a.root,style:(e={backgroundRepeat:!1,backgroundImage:'url("'.concat(n.images.bg,'")'),backgroundSize:"cover"},Object(u.a)(e,"backgroundRepeat","no-repeat"),Object(u.a)(e,"width",n.width),Object(u.a)(e,"height",n.height),Object(u.a)(e,"display","flex"),Object(u.a)(e,"flexDirection","column"),Object(u.a)(e,"textAlign","center"),e),children:[Object(T.jsx)(w.a,{}),Object(T.jsxs)("div",{children:[Object(T.jsx)(C.a,{component:"h2",variant:"h2",style:{color:n.colours.primary,fontFamily:"".concat(n.fonts.titleFont,", Helvetica, sans-serif")},children:n.texts.title}),n.sections.map((function(e,t){return Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)("img",{src:e.images.timelineImage,className:a.timelineImg}),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(T.jsx)(C.a,{children:e.texts.timelineDate}),Object(T.jsx)(C.a,{children:e.texts.timelineTitle})]})]})}))]}),Object(T.jsx)("img",{src:n.images.dp,alt:"my portrait",style:{height:"100%",width:"auto",marginRight:"auto"}})]})}}]),a}(n.Component);me.templateName="Minimalist",me.info={fonts:{titleFont:{label:"title font"}},colours:{primary:{label:"primary"},secondary:{label:"secondary"}},images:{bg:{label:"Entry background",allowColour:!0}},texts:{title:{label:"Timeline title"}},sections:{enabled:!0,defaultEntry:{images:{timelineImage:"https://bit.ly/3c3wsNL"},texts:{timelineTitle:"New section",timelineDate:"2077"}},entryFormat:{images:{timelineImage:{label:"Event Image",allowColour:!0}},texts:{timelineTitle:{label:"Event name"},timelineDate:{label:"Event date"}}}}},me.defaultField={width:"100%",height:"fit-content",fonts:{titleFont:"roboto"},colours:{primary:"#ff0000",secondary:"#00ff00"},images:{bg:"https://bit.ly/3ut83ry"},texts:{title:"A stroll through time"},sections:[{images:{timelineImage:"https://bit.ly/3hXPM2R"},texts:{timelineTitle:"Portfolio Deployed on Github!",timelineDate:"2021"}},{images:{timelineImage:"https://bit.ly/3c3wsNL"},texts:{timelineTitle:"Portfolio added to resume",timelineDate:"2022"}}]};var Oe=Object(S.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},std:{display:"block"},timelineImg:{borderRadius:"50%",height:"5vw",width:"5vw"}}}))(me),ve={introduction:[{name:fe.templateName,component:function(e,t){return Object(T.jsx)(fe,{fields:e,id:t})},script:function(e){return""},info:fe.info,defaultField:fe.defaultField}],timeline:[{name:Oe.templateName,component:function(e,t){return Object(T.jsx)(Oe,{fields:e,id:t})},script:function(e){return""},info:Oe.info,defaultField:Oe.defaultField}]},xe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={editMode:!0,pages:[{directory:"",entries:[]}],currentPage:0,currentEntry:0,showEditor:!1},n.createEntry=n.createEntry.bind(Object(c.a)(n)),n.handleEditorClose=n.handleEditorClose.bind(Object(c.a)(n)),n.handleCreateFile=n.handleCreateFile.bind(Object(c.a)(n)),n.handleProduction=n.handleProduction.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"renderEntry",value:function(e,t){return ve[e.type][e.style].component(e,t)}},{key:"createEntry",value:function(){var e="timeline",t=JSON.parse(JSON.stringify(ve.timeline[0].defaultField)),a=Object(p.a)({type:e,style:0},t),n=Object(oe.a)(this.state.pages);n[this.state.currentPage].entries=[].concat(Object(oe.a)(this.state.pages[this.state.currentPage].entries),[a]),this.setState({pages:n})}},{key:"handleEditorClose",value:function(e,t){if(t){console.log(e);var a=Object(oe.a)(this.state.pages),n=Object(oe.a)(this.state.pages[this.state.currentPage].entries);n[this.state.currentEntry]=e,a[this.state.currentPage].entries=n,this.setState({showEditor:!this.state.showEditor,pages:a})}else this.setState({showEditor:!this.state.showEditor})}},{key:"handleCreateFile",value:function(e,t){var a=this;console.log(e);var n=new de.a,i=ce.a.renderToString(n.collect(Object(T.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:e.map((function(e,t){return a.renderEntry(e)}))}))),o=se.a.encode('\n            <!DOCTYPE html>\n            <html lang="en">\n            <head>\n                <meta charset="UTF-8">\n                <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                <meta http-equiv="X-UA-Compatible" content="ie=edge">\n                <link href="styles.css" rel="stylesheet">\n                <script defer src="script.js"><\/script>\n                <title>Welcome</title>\n            </head>\n            <body>\n            '.concat(i,"\n            </body>")),r=se.a.encode(n.toString()),s=se.a.encode(e.map((function(e,t){return ve[e.type][e.style].script(t)})).filter(Boolean).join("\n"));return[{file:"".concat(t,"scripts.js"),contents:s},{file:"".concat(t,"index.html"),contents:o},{file:"".concat(t,"styles.css"),contents:r}]}},{key:"handleProduction",value:function(){var e,t=0,a=[],n=Object(ie.a)(this.state.pages);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=this.handleCreateFile(i.entries,i.directory);console.log(o),a[t]=o[0],a[t+1]=o[1],a[t+2]=o[2],t+=3}}catch(r){n.e(r)}finally{n.f()}return a}},{key:"render",value:function(){var e=this,t=this.props.classes,a=void 0;return this.state.pages[this.state.currentPage].entries!=[]&&(a=this.state.pages[this.state.currentPage].entries[this.state.currentEntry]),Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[this.state.pages[this.state.currentPage].entries.map((function(a,n){return Object(T.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(T.jsx)(re.a,{className:t.editFAB,onClick:function(){return e.setState({currentEntry:n,showEditor:!e.state.showEditor})},children:Object(T.jsx)(B.c,{})}),e.renderEntry(a)]})})),this.state.showEditor&&void 0!=a?Object(T.jsx)(be,{fields:a,info:ve[a.type][a.style].info,onClose:this.handleEditorClose}):null,Object(T.jsxs)("div",{className:t.staticDiv,children:[Object(T.jsx)(re.a,{className:t.controlFAB,onClick:this.createEntry,children:Object(T.jsx)(B.d,{})}),Object(T.jsx)(re.a,{className:t.controlFAB,onClick:function(){return console.log(e.handleProduction())},children:Object(T.jsx)(B.e,{})})]})]})}}]),a}(n.Component),ye={repopulate_state:m},Ce=Object(g.b)((function(e){return{loggedIn:e.login.loggedIn,name:e.login.name}}),ye)(Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",paddingTop:"7%"},entryDiv:{position:"relative"},editFAB:{position:"absolute",marginTop:"2vw",marginLeft:"2vw"},controlFAB:{position:"static",marginRight:"0.5vw",marginBottom:"0.5vw"},staticDiv:{position:"fixed",bottom:0,right:0}}}))(xe)),we=a(31),ke=a.n(we),Se=a(48),_e=a(108),De=a(235),Ne=a(236),Ee=a(240),Fe=a(238),Ie=a(239),Te=a(237),Pe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={finalizeDialogState:!1,overrideDialogState:!1,repositoryName:"",repositoryContent:[],anchorEl:null,fileName:"",fileContent:""},n.handleOnChange=n.handleOnChange.bind(Object(c.a)(n)),n.handleAddFileContent=n.handleAddFileContent.bind(Object(c.a)(n)),n.handleAddToFileContent=n.handleAddToFileContent.bind(Object(c.a)(n)),n.handleFinalizeDialogOpen=n.handleFinalizeDialogOpen.bind(Object(c.a)(n)),n.handleFinalizeDialogClose=n.handleFinalizeDialogClose.bind(Object(c.a)(n)),n.handleOverrideDialogOpen=n.handleOverrideDialogOpen.bind(Object(c.a)(n)),n.handleOverrideDialogClose=n.handleOverrideDialogClose.bind(Object(c.a)(n)),n.handleAnchorMenu=n.handleAnchorMenu.bind(Object(c.a)(n)),n.handleReleaseMenu=n.handleReleaseMenu.bind(Object(c.a)(n)),n.handleFinalizeEdits=n.handleFinalizeEdits.bind(Object(c.a)(n)),n.handleOverrideAllowed=n.handleOverrideAllowed.bind(Object(c.a)(n)),n.handlePushToGithub=n.handlePushToGithub.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.loggedIn){var e=JSON.parse(window.localStorage.getItem("portfolioUser"));this.props.repopulate_state(e)}}},{key:"handleOnChange",value:function(e){this.setState(Object(u.a)({},e.target.name,e.target.value))}},{key:"handleAddFileContent",value:function(e){e.preventDefault();var t,a=this.state.repositoryContent,n=!1,i=Object(ie.a)(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.fileName===this.state.fileName){n=!0,o.fileContent=this.state.fileContent;break}}}catch(r){i.e(r)}finally{i.f()}n?console.log("duplicate file not added"):(a.push({fileName:this.state.fileName,fileContent:se.a.encode(this.state.fileContent)}),this.setState({repositoryContent:a}))}},{key:"handleAddToFileContent",value:function(e){var t,a=this.state.repositoryContent,n=Object(ie.a)(e);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,r=!1,s=Object(ie.a)(a);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(o.name===l.fileName){r=!0,l.fileContent=o.contents;break}}}catch(c){s.e(c)}finally{s.f()}r?console.log("duplicate file ".concat(o.name," not added")):a.push({fileName:o.name,fileContent:o.contents})}}catch(c){n.e(c)}finally{n.f()}this.setState({repositoryContent:a})}},{key:"handleFinalizeDialogOpen",value:function(){this.setState({anchorEl:null,finalizeDialogState:!0})}},{key:"handleFinalizeDialogClose",value:function(){this.setState({finalizeDialogState:!1})}},{key:"handleOverrideDialogOpen",value:function(){this.setState({overrideDialogState:!0})}},{key:"handleOverrideDialogClose",value:function(){this.setState({overrideDialogState:!1})}},{key:"handleAnchorMenu",value:function(e){var t=e.currentTarget.getAttribute("componentname");this.setState(Object(u.a)({},t,e.currentTarget))}},{key:"handleReleaseMenu",value:function(e){var t=e.currentTarget.getAttribute("componentname");this.setState(Object(u.a)({},t,null))}},{key:"handleOverrideAllowed",value:function(){var e=Object(Se.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Override permission given to push to ".concat(this.state.repositoryName," and toggle pages for it")),e.next=3,this.handlePushToGithub();case 3:this.setState({overrideDialogState:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePushToGithub",value:function(){var e=Object(Se.a)(ke.a.mark((function e(){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("files are being pushed to ".concat(this.state.repositoryName)),e.next=3,v()({method:"PUT",url:"http://54.169.10.179:5000/portfolio/publishGithub",withCredentials:!0,data:{route:"",content:this.state.repositoryContent,repo:this.state.repositoryName}}).then((function(e){console.log(e.data.message)})).catch((function(e){e.response?console.log(e.response.data):console.log(e.message)}));case 3:this.setState({repositoryContent:[],fileName:""});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleFinalizeEdits",value:function(){var e=Object(Se.a)(ke.a.mark((function e(){var t=this;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("chosen repository name is "+this.state.repositoryName),e.next=3,v()({method:"GET",url:"http://54.169.10.179:5000/portfolio/checkExistingRepos",withCredentials:!0,params:{repo:this.state.repositoryName}}).then(function(){var e=Object(Se.a)(ke.a.mark((function e(a){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a.data.message),e.next=3,v()({method:"POST",url:"http://54.169.10.179:5000/portfolio/createRepo",withCredentials:!0,data:{repo:t.state.repositoryName}}).then((function(e){console.log(e.data.message)})).catch((function(e){e.response?console.log(e.response.data):console.log(e.message)}));case 3:return e.next=5,t.handlePushToGithub();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){e.response?console.log(e.response.data):console.log(e.message),t.setState({overrideDialogState:!0})}));case 3:this.setState({finalizeDialogState:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(T.jsxs)("div",{className:e.root,children:[Object(T.jsx)(re.a,{componentname:"anchorEl",variant:"extended",size:"medium",color:"primary","aria-label":"publish panel","aria-controls":"simple-menu","aria-haspopup":"true",className:e.actionFAB,onClick:this.handleAnchorMenu,children:Object(T.jsx)(C.a,{variant:"button",children:"Publish"})}),Object(T.jsxs)(_e.a,{componentname:"anchorEl",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleReleaseMenu,children:[Object(T.jsx)(De.a,{name:"finalizeDialogState",onClick:this.handleFinalizeDialogOpen,children:"Finalize and Push"}),Object(T.jsx)(De.a,{children:"Clear Template"}),Object(T.jsx)(De.a,{children:"Undo Action"})]}),Object(T.jsxs)(Ne.a,{open:this.state.finalizeDialogState,onClose:this.handleFinalizeDialogClose,"aria-labelledby":"repo name input",children:[Object(T.jsx)(Te.a,{id:"repo name input",children:"Repository Name"}),Object(T.jsxs)(Fe.a,{children:[Object(T.jsx)(Ie.a,{color:"primary",children:"Choose a Github repository name to save portfolio edits"}),Object(T.jsx)(pe.a,{name:"repositoryName",autoFocus:!0,margin:"dense",label:"Repository Name",type:"string",defaultValue:this.state.repositoryName,fullWidth:!0,onChange:this.handleOnChange}),Object(T.jsx)(Ie.a,{color:"primary",children:"Add a file to Push (for testing purposes)"}),Object(T.jsxs)("form",{children:[Object(T.jsx)("label",{for:"fileName",children:"File Name"}),Object(T.jsx)("input",{type:"text",id:"fileName",name:"fileName",placeholder:"file name including repository path",onChange:this.handleOnChange}),Object(T.jsx)("br",{}),Object(T.jsx)("label",{for:"fileContent",children:"File Content"}),Object(T.jsx)("input",{type:"text",id:"fileContent",name:"fileContent",placeholder:"your file content",onChange:this.handleOnChange}),Object(T.jsx)("br",{}),Object(T.jsx)("button",{onClick:this.handleAddFileContent,children:"Add"})]})]}),Object(T.jsxs)(Ee.a,{children:[Object(T.jsx)(D.a,{onClick:this.handleFinalizeDialogClose,color:"primary",children:"Cancel"}),Object(T.jsx)(D.a,{onClick:this.handleFinalizeEdits,color:"primary",children:"Finalize"})]})]}),Object(T.jsxs)(Ne.a,{open:this.state.overrideDialogState,onClose:this.handleOverrideDialogClose,"aria-labelledby":"override permission input",children:[Object(T.jsx)(Te.a,{id:"override permission input",children:"Warning!"}),Object(T.jsx)(Fe.a,{children:Object(T.jsx)(Ie.a,{color:"primary",children:"Repository already exists. This will override data in your existing repository and could lead to possible data loss! Do you still wish to continue?"})}),Object(T.jsxs)(Ee.a,{children:[Object(T.jsx)(D.a,{onClick:this.handleOverrideDialogClose,color:"primary",children:"Cancel"}),Object(T.jsx)(D.a,{onClick:this.handleOverrideAllowed,color:"primary",children:"Allow Override"})]})]})]})}}]),a}(n.Component),Ae={repopulate_state:m},Re=Object(g.b)((function(e){return{loggedIn:e.login.loggedIn}}),Ae)(Object(S.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",paddingTop:"7%"},actionFAB:{margin:0,top:"auto",left:"auto",bottom:"8%",right:"5%",position:"fixed",textAlign:"center"},modeFAB:{margin:0,top:"10%",left:"auto",right:"auto",bottom:"auto",position:"fixed",textAlign:"center"}}}))(Pe)),Be=a(67),Ue=a(106),ze="Guest",Le={loggedIn:!1,name:ze,id:"",avatar_url:"",gravatar_id:"",error:null},Me="";var Ge={portfolios:[],loading:!1,error:null,currentWork:null};var We=Object(Be.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(p.a)(Object(p.a)({},e),{},{name:t.payload.name,id:t.payload.id,avatar_url:t.payload.avatar_url,gravatar_id:t.payload.gravatar_id,loggedIn:!0});case j:return Object(p.a)(Object(p.a)({},e),{},{name:ze,id:Me,avatar_url:Me,gravatar_id:Me,loggedIn:!1});case f:return Object(p.a)(Object(p.a)({},e),{},{loggedIn:t.payload.loggedIn,name:t.payload.name,id:t.payload.id,avatar_url:t.payload.avatar_url,gravatar_id:t.payload.gravatar_id});default:return e}},portfolios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.b:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case q.d:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,portfolios:t.payload.portfolios});case q.c:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,portfolios:[],currentWork:null,error:t.payload.err});case q.e:return Object(p.a)(Object(p.a)({},e),{},{currentWork:t.payload.curr});case q.a:return Object(p.a)(Object(p.a)({},e),{},{currentWork:null});default:return e}}}),He=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,246)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),o(e),r(e)}))},Je=a(241),Ke=Object(Be.c)(We,Object(Be.a)(Ue.a));r.a.render(Object(T.jsx)(i.a.StrictMode,{children:Object(T.jsx)(Je.a,{theme:M,children:Object(T.jsx)(U.a,{children:Object(T.jsx)(g.a,{store:Ke,children:Object(T.jsxs)(V.d,{children:[Object(T.jsx)(V.b,{exact:!0,path:"/",component:Y}),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(R,{}),Object(T.jsx)(V.b,{exact:!0,path:"/login/callback",component:$}),Object(T.jsx)(V.b,{exact:!0,path:"/dashboard",component:ne}),Object(T.jsx)(V.b,{exact:!0,path:"/edit",component:Ce}),Object(T.jsx)(V.b,{exact:!0,path:"/publish",component:Re})]})]})})})})}),document.getElementById("root")),He()},47:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return d}));a(31),a(48);var n=a(29),i=a.n(n),o="FETCH_PORTFOLIOS_BEGIN",r="FETCH_PORTFOLIOS_SUCCESS",s="FETCH_PORTFOLIOS_FAILURE",l="SAVE_CURRENT_WORK",c="CLEAR_CURRENT_WORK";function d(e){return function(t){return t({type:o}),i()({method:"GET",url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"bf49667be5e3dbba0f25",REACT_APP_BACKEND:"http://54.169.10.179:5000",REACT_APP_USER_LOCALSTORAGE:"portfolioUser",REACT_APP_AUTOSAVE_LOCALSTORAGE:"portfolioWork"}).REACT_APP_REACT_APP_BACKEND+"/portfolio"+e,withCredentials:!0}).then((function(e){return e.data})).then((function(e){t({type:r,payload:{portfolios:e}})})).catch((function(e){return t(function(e){return{type:s,payload:{err:e}}}(e))}))}}}).call(this,a(94))}},[[178,1,2]]]);
//# sourceMappingURL=main.f20318c9.chunk.js.map